{"version":3,"sources":["..\\..\\..\\src\\utils\\extend.js","..\\..\\..\\src\\utils\\bind.js","..\\..\\..\\src\\utils\\html.js","..\\..\\..\\src\\constants.js","..\\..\\..\\src\\collection.js","..\\..\\..\\src\\utils\\proxy.js","..\\..\\..\\src\\utils\\deprecate.js","..\\..\\..\\src\\component\\hooks.js","..\\..\\..\\src\\utils\\delay.js","..\\..\\..\\src\\component\\observer.js","..\\..\\..\\src\\utils\\cast-string-to.js","..\\..\\..\\src\\utils\\dash-to-camel.js","..\\..\\..\\src\\vdom\\parser.js","..\\..\\..\\src\\utils\\camel-to-dash.js","..\\..\\..\\src\\utils\\object-path.js","..\\..\\..\\src\\vdom\\attributes.js","..\\..\\..\\src\\vdom\\element.js","..\\..\\..\\src\\vdom\\index.js","..\\..\\..\\src\\component\\store.js","..\\..\\..\\src\\component\\ids.js","..\\..\\..\\src\\component\\d-props.js","..\\..\\..\\src\\utils\\to-inline-style.js","..\\..\\..\\src\\component\\hmr.js","..\\..\\..\\src\\component\\style.js","..\\..\\..\\src\\component\\queue-ready.js","..\\..\\..\\src\\component\\extend-instance.js","..\\..\\..\\src\\utils\\clone-object.js","..\\..\\..\\src\\component\\instances.js","..\\..\\..\\src\\doz.js","..\\..\\..\\src\\component\\index.js","..\\..\\..\\src\\index.js","..\\..\\..\\index.js","src\\cmp\\hello\\world\\index.js","src\\cmp\\hello\\index.js","src\\ui.js","index.js","..\\..\\..\\..\\..\\..\\..\\..\\..\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\bundle-url.js","..\\..\\..\\..\\..\\..\\..\\..\\..\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"],"names":["extend","targetObj","defaultObj","exclude","i","hasOwnProperty","indexOf","copy","args","Object","assign","apply","module","exports","bind","obj","context","TypeError","target","keys","length","item","regexN","regexS","replace","html","create","str","wrapper","element","template","document","createElement","innerHTML","childNodes","firstChild","createTextNode","isValidNode","Error","el","getAllNodes","nodes","scanner","n","push","hasChildNodes","nextSibling","ROOT","INSTANCE","CMP_INSTANCE","NS","SVG","TAG","EACH","APP","EMPTY","MOUNT","SUFFIX_ROOT","REGEX","IS_CUSTOM_TAG","IS_CUSTOM_TAG_STRING","IS_BIND","IS_REF","IS_ALIAS","IS_STORE","IS_COMPONENT_LISTENER","IS_LISTENER","IS_ID_SELECTOR","IS_PARENT_METHOD","IS_STRING_QUOTED","GET_LISTENER","TRIM_QUOTES","ATTR","BIND","REF","ALIAS","STORE","LISTENER","ID","FORCE_UPDATE","require","getOrCreate","window","components","register","cmp","collection","tag","toUpperCase","console","warn","removeAll","get","sanitize","ObservableSlim","observables","targets","targetsProxy","dupProxy","_getProperty","path","split","reduce","prev","curr","undefined","self","_create","domDelay","originalObservable","originalPath","autoDomDelay","observable","changes","_getPath","property","Array","calls","_notifyObservers","numChanges","paused","setTimeout","observers","handler","parentPath","splice","parentProxy","join","targetProp","__isProxy","__getTarget","a","observableTargets","l","proxies","newPath","renderMode","deleteProperty","originalChange","proxy","previousValue","currentPath","type","newValue","beforeChange","checkBeforeChange","res","currentTargetProxy","b","set","value","receiver","typeOfTargetProp","iterate","objProp","c","d","Proxy","parentTarget","proxyItem","targetPosition","observer","observe","pause","foundMatch","resume","remove","matchedObservable","callback","beginRender","endRender","_list","deprecate","prop","msg","includes","title","once","callBeforeCreate","onBeforeCreate","call","callCreate","onCreate","callRender","onRender","callBeforeMount","onBeforeMount","callMount","onMount","callMountAsync","onMountAsync","callBeforeUpdate","onBeforeUpdate","callUpdate","onUpdate","callBeforeUnmount","onBeforeUnmount","callUnmount","onUnmount","callBeforeDestroy","onBeforeDestroy","callDestroy","onDestroy","delay","cb","requestAnimationFrame","events","updateBound","instance","forEach","_boundElements","defaultValue","checked","isArray","inputs","querySelectorAll","name","input","options","option","selected","props","render","_isCreated","castStringTo","NaN","Infinity","JSON","parse","e","num","parseFloat","isNaN","isFinite","toLowerCase","parseInt","dashToCamel","s","m","serializeProps","node","attributes","from","j","attr","isComponentListener","match","nodeValue","test","nodeName","transform","root","walking","parent","nodeType","children","isSVG","ownerSVGElement","camelToDash","getByPath","getLast","pop","objectPath","isEventAttribute","isBindAttribute","isRefAttribute","canBind","$target","setAttribute","isCustomAttribute","setBooleanAttribute","stringify","removeAttribute","updateAttribute","newVal","oldVal","updateChildren","updateChildrenProps","_publicProps","updateAttributes","newProps","oldProps","updated","extractEventName","slice","trimQuotes","addEventListener","stringArgs","map","trim","isParentMethod","method","_func","eval","setBind","event","_value","multiple","filter","setRef","ref","attach","bindValue","dataset","deadChildren","isChanged","nodeA","nodeB","forceupdate","initial","$el","createElementNS","appendChild","_processing","action","update","$parent","newNode","oldNode","index","rootElement","newElement","oldElement","_rootElement","replaceChild","dynInstance","newLength","oldLength","clearDead","dl","parentNode","removeChild","updateElement","store","app","_stores","id","_ids","extract","dProps","toInlineStyle","withStyle","entries","styleString","propName","propValue","hmr","_module","hot","NS_PROPS","NS_INIT_PROPS","Map","_initialProps","p","dispose","scoped","style","composeStyle","out","key","properties","styleId","querySelector","styleEl","head","add","onAppReady","_instance","_onAppReadyCB","extendInstance","cfg","_components","objName","cloneObject","hooks","ids","queueReady","component","parentElement","trash","walk","child","cmpName","localComponents","autoCmp","rawChild","outerHTML","rawChildren","autoCreateChildren","parentCmp","insertBefore","alias","defineProperties","writable","_prevTpl","_prev","_prevProps","_callback","_cache","_loops","_dynamicChildren","_unmounted","_unmountedParentNode","getHTMLElement","enumerable","beginSafeRender","endSafeRender","emit","each","func","safe","stringEl","toStyle","getStore","storeName","getComponentById","getCmp","appRoot","_root","tpl","next","drawDynamic","mount","selector","HTMLElement","unmount","onlyInstance","byDestroy","silently","Boolean","destroy","beforeCreate","clearDynamic","dynamicInstance","body","contains","instances","Doz","getElementById","substring","appNode","actions","_usedComponents","_callAppReady","_tree","version","myColor","count","buttonText","records","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","getBaseURL","url","bundle","updateLink","link","newLink","cloneNode","onload","href","Date","now","cssTimeout","reloadCSS","links"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AWbE,wCAXa;AAYbE;AAZa,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjeA,IAAMra,SAASgF,QAAQ,gBAAR,CAAf;AACA,IAAMlE,OAAOkE,QAAQ,cAAR,CAAb;AACA,IAAMoW,YAAYpW,QAAQ,uBAAR,CAAlB;;eACqBA,QAAQ,aAAR;IAAd5B,eAAAA;IAAKM,iBAAAA;;IAEN2X;AAEF,mBAAsB;AAAA;;AAAA,YAAVnE,GAAU,uEAAJ,EAAI;;AAAA;;AAClB,YAAMpV,iBAAesB,IAAIE,GAAnB,WAA4BF,IAAIE,GAAhC,MAAN;;AAEA,YAAII,MAAMS,cAAN,CAAqBqL,IAArB,CAA0B0H,IAAIvH,IAA9B,CAAJ,EAAyC;AACrCuH,gBAAIvH,IAAJ,GAAW5N,SAASuZ,cAAT,CAAwBpE,IAAIvH,IAAJ,CAAS4L,SAAT,CAAmB,CAAnB,CAAxB,CAAX;AACH;;AAED,YAAI7X,MAAMS,cAAN,CAAqBqL,IAArB,CAA0B0H,IAAIpV,QAA9B,CAAJ,EAA6C;AACzCoV,gBAAIpV,QAAJ,GAAeC,SAASuZ,cAAT,CAAwBpE,IAAIpV,QAAJ,CAAayZ,SAAb,CAAuB,CAAvB,CAAxB,CAAf;AACArE,gBAAIpV,QAAJ,GAAeoV,IAAIpV,QAAJ,CAAaG,SAA5B;AACH;;AAED,YAAI,EAAEiV,IAAIvH,IAAJ,YAAoB6K,WAAtB,CAAJ,EAAwC;AACpC,kBAAM,IAAIvZ,SAAJ,CAAc,wEAAd,CAAN;AACH;;AAED,YAAI,EAAEiW,IAAIpV,QAAJ,YAAwB0Y,WAAxB,IAAuC,OAAOtD,IAAIpV,QAAX,KAAwB,QAA/D,IAA2E,OAAOoV,IAAIpV,QAAX,KAAwB,UAArG,CAAJ,EAAsH;AAClH,kBAAM,IAAIb,SAAJ,CAAc,0GAAd,CAAN;AACH;;AAED;AACA,YAAMua,UAAUzZ,SAAS2U,aAAT,CAAuBtT,IAAIE,GAA3B,CAAhB;AACA,YAAIkY,OAAJ,EAAa;AACTA,oBAAQ9G,UAAR,CAAmBC,WAAnB,CAA+B6G,OAA/B;AACH;;AAED,aAAKtE,GAAL,GAAWlX,OAAOkX,GAAP,EAAY;AACnB/R,wBAAY,EADO;AAEnBsW,qBAAS;AAFU,SAAZ,CAAX;;AAKAhb,eAAO+X,gBAAP,CAAwB,IAAxB,EAA8B;AAC1BrB,yBAAa;AACT7N,uBAAO,EADE;AAETmP,0BAAU;AAFD,aADa;AAK1BiD,6BAAiB;AACbpS,uBAAO,EADM;AAEbmP,0BAAU;AAFG,aALS;AAS1B1D,qBAAS;AACLzL,uBAAO,EADF;AAELmP,0BAAU;AAFL,aATiB;AAa1BK,oBAAQ;AACJxP,uBAAO,IAAIyM,GAAJ;AADH,aAbkB;AAgB1Bd,kBAAM;AACF3L,uBAAO,EADL;AAEFmP,0BAAU;AAFR,aAhBoB;AAoB1BzB,2BAAe;AACX1N,uBAAO,EADI;AAEXmP,0BAAU;AAFC,aApBW;AAwB1BkD,2BAAe;AACXrS,uBAAO,iBAAY;AACf,yBAAK0N,aAAL,CAAmB/J,OAAnB,CAA2B,cAAM;AAC7B,4BAAI,OAAOL,EAAP,KAAc,UAAd,IAA4BA,GAAGmK,SAAnC,EAA8C;AAC1CnK,+BAAGxB,IAAH,CAAQwB,GAAGmK,SAAX;AACH;AACJ,qBAJD;;AAMA,yBAAKC,aAAL,GAAqB,EAArB;AACH;AATU,aAxBW;AAmC1BkD,mBAAO;AACH5Q,uBAAO,KAAK4N,GAAL,CAASvH;AADb,aAnCmB;AAsC1B+D,oBAAQ;AACJpK,uBAAOxI,KAAK,KAAKoW,GAAL,CAASuE,OAAd,EAAuB,IAAvB,CADH;AAEJrC,4BAAY;AAFR,aAtCkB;AA0C1BkB,mBAAO;AACHhR,uBAAO,eAAUxH,SAAV,EAAoB6N,IAApB,EAA+C;AAAA,wBAArBE,MAAqB,uEAAZ,KAAK+L,KAAO;;;AAElD,wBAAI,OAAOjM,IAAP,KAAgB,QAApB,EAA8B;AAC1BA,+BAAO5N,SAAS2U,aAAT,CAAuB/G,IAAvB,CAAP;AACH;;AAEDA,2BAAOA,QAAQE,OAAOsE,YAAtB;;AAEA,wBAAI,EAAExE,gBAAgB6K,WAAlB,CAAJ,EAAoC;AAChC,8BAAM,IAAIvZ,SAAJ,CAAc,qEAAd,CAAN;AACH;;AAED,wBAAM+W,UAAU;AACZzS,6BAAKnC,IAAII,KADG;AAEZ0T,6BAAK;AACDrJ,mCAAO,EADN;AAED/L,oCAFC,sBAEU;AACP,6CAAWsB,IAAIL,IAAf,SAAuBjB,SAAvB,UAAoCsB,IAAIL,IAAxC;AACH;AAJA;AAFO,qBAAhB;;AAUA,2BAAOqY,UAAUxV,GAAV,CAAc;AACjB+J,kCADiB;AAEjB7N,wCAAcsB,IAAII,KAAlB,WAA6BJ,IAAII,KAAjC,MAFiB;AAGjBsR,6BAAK,IAHY;AAIjBuD,mCAAWxI,MAJM;AAKjBmI,wCALiB;AAMjBsC,+BAAO;AANU,qBAAd,CAAP;AAQH,iBA/BE;AAgCHlB,4BAAY;AAhCT;AA1CmB,SAA9B;;AA8EA,YAAIhS,MAAMiG,OAAN,CAAc,KAAK6J,GAAL,CAAS/R,UAAvB,CAAJ,EAAwC;AACpC,iBAAK+R,GAAL,CAAS/R,UAAT,CAAoB8H,OAApB,CAA4B,eAAO;AAC/B,oBAAI,QAAO5H,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2B,OAAOA,IAAIE,GAAX,KAAmB,QAA9C,IAA0D,QAAOF,IAAI6R,GAAX,MAAmB,QAAjF,EAA2F;AACvF,0BAAKC,WAAL,CAAiB9R,IAAIE,GAArB,IAA4BF,GAA5B;AACH;AACJ,aAJD;AAKH,SAND,MAMO,IAAI,QAAO,KAAK6R,GAAL,CAAS/R,UAAhB,MAA+B,QAAnC,EAA4C;AAC/C1E,mBAAOU,IAAP,CAAY,KAAK+V,GAAL,CAAS/R,UAArB,EAAiC8H,OAAjC,CAAyC,mBAAW;AAChD,sBAAKkK,WAAL,CAAiBC,OAAjB,IAA4B;AACxB7R,yBAAK6R,OADmB;AAExBF,yBAAK,MAAKA,GAAL,CAAS/R,UAAT,CAAoBiS,OAApB;AAFmB,iBAA5B;AAIH,aALD;AAMH;;AAED,aAAKD,WAAL,CAAiB/T,IAAIE,GAArB,IAA4B;AACxBiC,iBAAKnC,IAAIE,GADe;AAExB4T,iBAAK;AACDpV,0BAAU,OAAOoV,IAAIpV,QAAX,KAAwB,UAAxB,GAAqCoV,IAAIpV,QAAzC,GAAoD,YAAY;AACtE,2BAAOoV,IAAIpV,QAAX;AACH;AAHA;AAFmB,SAA5B;;AASArB,eAAOU,IAAP,CAAY+V,GAAZ,EAAiBjK,OAAjB,CAAyB,aAAK;AAC1B,gBAAG,CAAC,CAAC,UAAD,EAAa,MAAb,EAAqBlC,QAArB,CAA8BkL,CAA9B,CAAJ,EACI,MAAKkB,WAAL,CAAiB/T,IAAIE,GAArB,EAA0B4T,GAA1B,CAA8BjB,CAA9B,IAAmCiB,IAAIjB,CAAJ,CAAnC;AACP,SAHD;;AAKA,aAAK2F,KAAL,GAAaR,UAAUxV,GAAV,CAAc,EAAC+J,MAAM,KAAKuH,GAAL,CAASvH,IAAhB,EAAsB7N,kBAAtB,EAAgCgT,KAAK,IAArC,EAAd,KAA6D,EAA1E;AACA,aAAK6G,aAAL;AACH;;;;qCAEYpD,OAAO;AAChB,mBAAO,KAAKqD,KAAL,GACD,KAAKA,KAAL,CAAW7L,QAAX,CAAoBwI,KAApB,CADC,GAED9R,SAFN;AAGH;;;yCAEgBuO,IAAI;AACjB,mBAAO,KAAKC,IAAL,CAAUD,EAAV,CAAP;AACH;;;iCAEQH,OAAO;AACZ,mBAAO,KAAKE,OAAL,CAAaF,KAAb,CAAP;AACH;;;;;;AAILjU,OAAOC,OAAP,GAAiBwa,GAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"bundle.map","sourceRoot":"..\\..","sourcesContent":["/**\r\n * Copies deep missing properties to the target object\r\n * @param targetObj {Object} target object\r\n * @param defaultObj {Object} default object\r\n * @param exclude {Array} exclude properties from copy\r\n * @returns {*}\r\n */\r\n\r\nfunction extend(targetObj, defaultObj, exclude = []) {\r\n    for (let i in defaultObj) {\r\n        /* istanbul ignore else  */\r\n        if (defaultObj.hasOwnProperty(i) && exclude.indexOf(i) === -1) {\r\n            if (!targetObj.hasOwnProperty(i) || typeof targetObj[i] === 'undefined') {\r\n                targetObj[i] = defaultObj[i];\r\n            } else if (typeof targetObj[i] === 'object') {\r\n                extend(targetObj[i], defaultObj[i]);\r\n            }\r\n        }\r\n    }\r\n    return targetObj;\r\n}\r\n\r\n/**\r\n * Creates new target object and copies deep missing properties to the target object\r\n * @param args[0] {Object} target object\r\n * @param args[1] {Object} default object\r\n * @param args[2] {Array} exclude properties from copy\r\n * @returns {*}\r\n */\r\nfunction copy(...args) {\r\n    args[0] = Object.assign({}, args[0]);\r\n    return extend.apply(this, args);\r\n}\r\n\r\nmodule.exports = extend;\r\nmodule.exports.copy = copy;","function bind(obj, context) {\r\n    if (typeof obj !== 'object') {\r\n        throw new TypeError('expected an object');\r\n    }\r\n\r\n    let target = Object.assign({}, obj);\r\n\r\n    let keys = Object.keys(obj);\r\n\r\n    for (let i = keys.length - 1; i >= 0; --i) {\r\n        let item = target[keys[i]];\r\n        if(typeof item === 'function') {\r\n            target[keys[i]] = item.bind(context);\r\n        } else if (typeof item === 'object') {\r\n            target[keys[i]] = bind(item, context);\r\n        }\r\n    }\r\n\r\n    return target;\r\n}\r\n\r\nmodule.exports = bind;","const regexN = /\\n/g;\r\nconst regexS = /\\s+/g;\r\nconst replace = ' ';\r\n\r\nconst html = {\r\n    /**\r\n     * Create DOM element\r\n     * @param str html string\r\n     * @param wrapper tag string\r\n     * @returns {Element | Node | null}\r\n     */\r\n    create: function (str, wrapper) {\r\n        let element;\r\n        str = str.replace(regexN, replace);\r\n        str = str.replace(regexS, replace);\r\n\r\n        let template = document.createElement('div');\r\n        template.innerHTML = str;\r\n\r\n        if(template.childNodes.length > 1) {\r\n            element = document.createElement(wrapper);\r\n            //console.log('TEMPLATE',template.innerHTML);\r\n            element.innerHTML = template.innerHTML;\r\n        } else {\r\n            //console.log('TEMPLATE',template.innerHTML);\r\n            element = template.firstChild || document.createTextNode('');\r\n        }\r\n\r\n        if (!this.isValidNode(element))\r\n            throw new Error('Element not valid');\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * Check if is a valid Node\r\n     * @param {*} el\r\n     * @returns {Boolean}\r\n     */\r\n    isValidNode: function (el) {\r\n        return el && 'nodeType' in el;\r\n    },\r\n\r\n    getAllNodes: function (el) {\r\n\r\n        const nodes = [];\r\n\r\n        function scanner(n) {\r\n            while (n) {\r\n                nodes.push(n);\r\n                if (n.hasChildNodes()) {\r\n                    scanner(n.firstChild)\r\n                }\r\n                n = n.nextSibling;\r\n            }\r\n        }\r\n\r\n        scanner(el);\r\n\r\n        return nodes;\r\n    }\r\n};\r\n\r\nmodule.exports = html;","module.exports = {\r\n    ROOT: '__DOZ_GLOBAL_COMPONENTS__',\r\n    INSTANCE: '__DOZ_INSTANCE__',\r\n    CMP_INSTANCE: '__DOZ_CMP_INSTANCE__',\r\n    NS: {\r\n        SVG: 'http://www.w3.org/2000/svg'\r\n    },\r\n    TAG: {\r\n        ROOT: 'doz-root',\r\n        EACH: 'doz-each-root',\r\n        APP: 'doz-app',\r\n        EMPTY: 'doz-empty',\r\n        MOUNT: 'doz-mount',\r\n        SUFFIX_ROOT: '-root'\r\n    },\r\n    REGEX: {\r\n        IS_CUSTOM_TAG: /^\\w+-[\\w-]+$/,\r\n        IS_CUSTOM_TAG_STRING: /<\\w+-[\\w-]+/,\r\n        IS_BIND: /^d-bind$/,\r\n        IS_REF: /^d-ref$/,\r\n        IS_ALIAS: /^d:alias$/,\r\n        IS_STORE: /^d:store$/,\r\n        IS_COMPONENT_LISTENER: /^d:on-(\\w+)$/,\r\n        IS_LISTENER: /^on/,\r\n        IS_ID_SELECTOR: /^#[\\w-_:.]+$/,\r\n        IS_PARENT_METHOD: /^parent.(.*)/,\r\n        IS_STRING_QUOTED: /^\"\\w+\"/,\r\n        GET_LISTENER: /^this.(.*)\\((.*)\\)/,\r\n        TRIM_QUOTES: /^[\"'](.*)[\"']$/\r\n    },\r\n    ATTR: {\r\n        // Attributes for HTMLElement\r\n        BIND: 'd-bind',\r\n        REF: 'd-ref',\r\n        // Attributes for Components\r\n        ALIAS: 'd:alias',\r\n        STORE: 'd:store',\r\n        LISTENER: 'd:on',\r\n        ID: 'd:id',\r\n        FORCE_UPDATE: 'forceupdate'\r\n    }\r\n};","const {ROOT} = require('./constants');\r\n\r\n/**\r\n * Get or create global collection\r\n * @returns {{}|components|{InjectAsComment: boolean, InjectByTag: boolean}|{InjectAsComment, InjectByTag}|Array|*}\r\n */\r\nfunction getOrCreate() {\r\n    window[ROOT] = window[ROOT] || {components: {}};\r\n    return window[ROOT].components;\r\n}\r\n\r\n/**\r\n * Register a component to global\r\n * @param cmp\r\n */\r\nfunction register(cmp) {\r\n    const collection = getOrCreate();\r\n\r\n    const tag = cmp.tag.toUpperCase();\r\n\r\n    if (collection.hasOwnProperty(tag))\r\n        console.warn('Doz', `component ${tag} overwritten`);\r\n\r\n    collection[tag] = cmp;\r\n    /*\r\n    if (!collection.hasOwnProperty(tag)) {\r\n        collection[tag] = cmp;\r\n    } else {\r\n        throw new Error(`Component ${tag} already defined`);\r\n    }\r\n    */\r\n}\r\n\r\nfunction removeAll() {\r\n    if (window[ROOT])\r\n        window[ROOT].components = {};\r\n}\r\n\r\n/**\r\n * Get component from global\r\n * @param tag\r\n * @returns {*}\r\n */\r\nfunction get(tag) {\r\n    if (typeof tag !== 'string')\r\n        throw new TypeError('tag must be a string');\r\n\r\n    tag = tag.toUpperCase();\r\n\r\n    const collection = getOrCreate();\r\n    return collection[tag];\r\n}\r\n\r\nmodule.exports = {\r\n    register,\r\n    get,\r\n    removeAll\r\n};","/*\r\n * \tOriginally was Observable Slim\r\n *\tVersion 0.0.4\r\n * \thttps://github.com/elliotnb/observable-slim\r\n *\r\n * \tLicensed under the MIT license:\r\n * \thttp://www.opensource.org/licenses/MIT\r\n *\r\n *\tObservable Slim is a singleton that allows you to observe changes made to an object and any nested\r\n *\tchildren of that object. It is intended to assist with one-way data binding, that is, in MVC parlance,\r\n *\treflecting changes in the model to the app. Observable Slim aspires to be as lightweight and easily\r\n *\tunderstood as possible. Minifies down to roughly 3000 characters.\r\n */\r\n\r\nfunction sanitize(str) {\r\n    return typeof str === 'string'\r\n        ? str\r\n            .replace(/&(?!\\w+;)/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n        : str;\r\n}\r\n\r\n/**\r\n * ObservableSlim\r\n * @type {{create, observe, pause, resume, remove, beforeChange}}\r\n */\r\nconst ObservableSlim = (function () {\r\n    // An array that stores all of the observables created through the public create() method below.\r\n    let observables = [];\r\n    // An array of all the objects that we have assigned Proxies to\r\n    let targets = [];\r\n\r\n    // An array of arrays containing the Proxies created for each target object. targetsProxy is index-matched with\r\n    // 'targets' -- together, the pair offer a Hash table where the key is not a string nor number, but the actual target object\r\n    let targetsProxy = [];\r\n\r\n    // this variable tracks duplicate proxies assigned to the same target.\r\n    // the 'set' handler below will trigger the same change on all other Proxies tracking the same target.\r\n    // however, in order to avoid an infinite loop of Proxies triggering and re-triggering one another, we use dupProxy\r\n    // to track that a given Proxy was modified from the 'set' handler\r\n    let dupProxy = null;\r\n\r\n    let _getProperty = function (obj, path) {\r\n        return path.split('.').reduce(function (prev, curr) {\r\n            return prev ? prev[curr] : undefined\r\n        }, obj || self)\r\n    };\r\n\r\n    /**\r\n     * _create\r\n     * @description Private internal function that is invoked to create a new ES6 Proxy whose changes we can observe through the Observerable.observe() method.\r\n     * @param target {Object} required, plain JavaScript object that we want to observe for changes.\r\n     * @param domDelay {Boolean|Null} batch up changes on a 10ms delay so a series of changes can be processed in one DOM update.\r\n     * @param originalObservable {Object} the original observable created by the user, exists for recursion purposes, allows one observable to observe change on any nested/child objects.\r\n     * @param originalPath {String} the path of the property in relation to the target on the original observable, exists for recursion purposes, allows one observable to observe change on any nested/child objects.\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    let _create = function (target, domDelay, originalObservable, originalPath) {\r\n\r\n        let autoDomDelay = domDelay == null;\r\n        let observable = originalObservable || null;\r\n        let path = originalPath || '';\r\n\r\n        let changes = [];\r\n\r\n        let _getPath = function (target, property) {\r\n            if (target instanceof Array) {\r\n                return (path !== '') ? (path) : property;\r\n            } else {\r\n                return (path !== '') ? (path + '.' + property) : property;\r\n            }\r\n        };\r\n\r\n        let calls = 0;\r\n\r\n        let _notifyObservers = function (numChanges) {\r\n\r\n            // if the observable is paused, then we don't want to execute any of the observer functions\r\n            if (observable.paused === true) return;\r\n\r\n            // reset calls number after 10ms\r\n            if (autoDomDelay) {\r\n                domDelay = ++calls > 1;\r\n                setTimeout(function () {\r\n                    calls = 0;\r\n                }, 10);\r\n            }\r\n\r\n            // execute observer functions on a 10ms settimeout, this prevents the observer functions from being executed\r\n            // separately on every change -- this is necessary because the observer functions will often trigger UI updates\r\n            if (domDelay === true) {\r\n                setTimeout(function () {\r\n                    if (numChanges === changes.length) {\r\n                        // invoke any functions that are observing changes\r\n                        for (let i = 0; i < observable.observers.length; i++) observable.observers[i](changes);\r\n                        changes = [];\r\n                    }\r\n                }, 10);\r\n            } else {\r\n                // invoke any functions that are observing changes\r\n                for (let i = 0; i < observable.observers.length; i++) observable.observers[i](changes);\r\n                changes = [];\r\n            }\r\n\r\n        };\r\n\r\n        let handler = {\r\n            get: function (target, property) {\r\n\r\n                // implement a simple check for whether or not the object is a proxy, this helps the .create() method avoid\r\n                // creating Proxies of Proxies.\r\n                if (property === '__getTarget') {\r\n                    return target;\r\n                } else if (property === '__isProxy') {\r\n                    return true;\r\n                    // from the perspective of a given observable on a parent object, return the parent object of the given nested object\r\n                } else if (property === '__getParent') {\r\n                    return function (i) {\r\n                        if (typeof i === 'undefined') i = 1;\r\n                        let parentPath = _getPath(target, '__getParent').split('.');\r\n                        parentPath.splice(-(i + 1), (i + 1));\r\n                        return _getProperty(observable.parentProxy, parentPath.join('.'));\r\n                    }\r\n                }\r\n\r\n                // for performance improvements, we assign this to a variable so we do not have to lookup the property value again\r\n                let targetProp = target[property];\r\n\r\n                // if we are traversing into a new object, then we want to record path to that object and return a new observable.\r\n                // recursively returning a new observable allows us a single Observable.observe() to monitor all changes on\r\n                // the target object and any objects nested within.\r\n                if (targetProp instanceof Object && targetProp !== null && target.hasOwnProperty(property)) {\r\n\r\n                    // if we've found a proxy nested on the object, then we want to retrieve the original object behind that proxy\r\n                    if (targetProp.__isProxy === true) targetProp = targetProp.__getTarget;\r\n\r\n                    // if we've previously setup a proxy on this target, then...\r\n                    //let a = observable.targets.indexOf(targetProp);\r\n                    let a = -1;\r\n                    let observableTargets = observable.targets;\r\n                    for (let i = 0, l = observableTargets.length; i < l; i++) {\r\n                        if (targetProp === observableTargets[i]) {\r\n                            a = i;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (a > -1) return observable.proxies[a];\r\n\r\n                    // if we're arrived here, then that means there is no proxy for the object the user just accessed, so we\r\n                    // have to create a new proxy for it\r\n                    let newPath = (path !== '') ? (path + '.' + property) : property;\r\n\r\n                    return _create(targetProp, domDelay, observable, newPath);\r\n                } else {\r\n                    return observable.renderMode ? sanitize(targetProp) : targetProp;\r\n                }\r\n            },\r\n            deleteProperty: function (target, property) {\r\n\r\n                // was this change an original change or was it a change that was re-triggered below\r\n                let originalChange = true;\r\n                if (dupProxy === proxy) {\r\n                    originalChange = false;\r\n                    dupProxy = null;\r\n                }\r\n\r\n                // in order to report what the previous value was, we must make a copy of it before it is deleted\r\n                let previousValue = Object.assign({}, target);\r\n\r\n                // get the path of the property being deleted\r\n                let currentPath = _getPath(target, property);\r\n\r\n                // record the deletion that just took place\r\n                changes.push({\r\n                    type: 'delete',\r\n                    target: target,\r\n                    property: property,\r\n                    newValue: null,\r\n                    previousValue: previousValue[property],\r\n                    currentPath: currentPath,\r\n                    proxy: proxy\r\n                });\r\n\r\n                if (typeof observable.beforeChange === 'function' && observable.checkBeforeChange !== currentPath) {\r\n                    observable.checkBeforeChange = currentPath;\r\n                    let res = observable.beforeChange(changes);\r\n                    if (res === false) {\r\n                        observable.checkBeforeChange = '';\r\n                        return false\r\n                    }\r\n                }\r\n\r\n                observable.checkBeforeChange = '';\r\n\r\n                if (originalChange === true) {\r\n                    let a, l;\r\n                    for (a = 0, l = targets.length; a < l; a++) if (target === targets[a]) break;\r\n\r\n                    // loop over each proxy and see if the target for this change has any other proxies\r\n                    let currentTargetProxy = targetsProxy[a];\r\n\r\n                    let b = currentTargetProxy.length;\r\n                    while (b--) {\r\n                        // if the same target has a different proxy\r\n                        if (currentTargetProxy[b].proxy !== proxy) {\r\n                            // !!IMPORTANT!! store the proxy as a duplicate proxy (dupProxy) -- this will adjust the behavior above appropriately (that is,\r\n                            // prevent a change on dupProxy from re-triggering the same change on other proxies)\r\n                            dupProxy = currentTargetProxy[b].proxy;\r\n\r\n                            // make the same delete on the different proxy for the same target object. it is important that we make this change *after* we invoke the same change\r\n                            // on any other proxies so that the previousValue can show up correct for the other proxies\r\n                            delete currentTargetProxy[b].proxy[property];\r\n                        }\r\n                    }\r\n\r\n                    // perform the delete that we've trapped\r\n                    delete target[property];\r\n\r\n                }\r\n\r\n                _notifyObservers(changes.length);\r\n\r\n                return true;\r\n\r\n            },\r\n            set: function (target, property, value, receiver) {\r\n\r\n                // was this change an original change or was it a change that was re-triggered below\r\n                let originalChange = true;\r\n                if (dupProxy === proxy) {\r\n                    originalChange = false;\r\n                    dupProxy = null;\r\n                }\r\n\r\n                // improve performance by saving direct references to the property\r\n                let targetProp = target[property];\r\n\r\n                // only record a change if the new value differs from the old one OR if this proxy was not the original proxy to receive the change\r\n                if (targetProp !== value || originalChange === false) {\r\n\r\n                    let typeOfTargetProp = (typeof targetProp);\r\n\r\n                    // get the path of the object property being modified\r\n                    let currentPath = _getPath(target, property);\r\n\r\n                    // determine if we're adding something new or modifying somethat that already existed\r\n                    let type = 'update';\r\n                    if (typeOfTargetProp === 'undefined') type = 'add';\r\n\r\n                    // store the change that just occurred. it is important that we store the change before invoking the other proxies so that the previousValue is correct\r\n                    changes.push({\r\n                        type: type,\r\n                        target: target,\r\n                        property: property,\r\n                        newValue: value,\r\n                        previousValue: receiver[property],\r\n                        currentPath: currentPath,\r\n                        proxy: proxy\r\n                    });\r\n\r\n                    if (typeof observable.beforeChange === 'function' && observable.checkBeforeChange !== currentPath) {\r\n                        observable.checkBeforeChange = currentPath;\r\n                        let res = observable.beforeChange(changes);\r\n                        if (res === false) {\r\n                            observable.checkBeforeChange = '';\r\n                            return false\r\n                        }\r\n                    }\r\n\r\n                    observable.checkBeforeChange = '';\r\n\r\n                    // !!IMPORTANT!! if this proxy was the first proxy to receive the change, then we need to go check and see\r\n                    // if there are other proxies for the same project. if there are, then we will modify those proxies as well so the other\r\n                    // observers can be modified of the change that has occurred.\r\n                    if (originalChange === true) {\r\n\r\n                        let a, l;\r\n                        for (a = 0, l = targets.length; a < l; a++) if (target === targets[a]) break;\r\n\r\n                        // loop over each proxy and see if the target for this change has any other proxies\r\n                        let currentTargetProxy = targetsProxy[a];\r\n                        if (currentTargetProxy)\r\n                            for (let b = 0, l = currentTargetProxy.length; b < l; b++) {\r\n                                // if the same target has a different proxy\r\n                                if (currentTargetProxy[b].proxy !== proxy) {\r\n\r\n                                    // !!IMPORTANT!! store the proxy as a duplicate proxy (dupProxy) -- this will adjust the behavior above appropriately (that is,\r\n                                    // prevent a change on dupProxy from re-triggering the same change on other proxies)\r\n                                    dupProxy = currentTargetProxy[b].proxy;\r\n\r\n                                    // invoke the same change on the different proxy for the same target object. it is important that we make this change *after* we invoke the same change\r\n                                    // on any other proxies so that the previousValue can show up correct for the other proxies\r\n                                    currentTargetProxy[b].proxy[property] = value;\r\n\r\n                                }\r\n                            }\r\n\r\n                        // if the property being overwritten is an object, then that means this observable\r\n                        // will need to stop monitoring this object and any nested objects underneath the overwritten object else they'll become\r\n                        // orphaned and grow memory usage. we excute this on a setTimeout so that the clean-up process does not block\r\n                        // the UI rendering -- there's no need to execute the clean up immediately\r\n                        setTimeout(function () {\r\n\r\n                            if (typeOfTargetProp === 'object' && targetProp !== null) {\r\n\r\n                                // check if the to-be-overwritten target property still exists on the target object\r\n                                // if it does still exist on the object, then we don't want to stop observing it. this resolves\r\n                                // an issue where array .sort() triggers objects to be overwritten, but instead of being overwritten\r\n                                // and discarded, they are shuffled to a new position in the array\r\n                                let keys = Object.keys(target);\r\n                                for (let i = 0, l = keys.length; i < l; i++) {\r\n                                    if (target[keys[i]] === targetProp) {\r\n                                        //console.log('target still exists');\r\n                                        return;\r\n                                    }\r\n                                }\r\n\r\n                                // loop over each property and recursively invoke the `iterate` function for any\r\n                                // objects nested on targetProp\r\n                                (function iterate(obj) {\r\n\r\n                                    let keys = Object.keys(obj);\r\n                                    for (let i = 0, l = keys.length; i < l; i++) {\r\n                                        let objProp = obj[keys[i]];\r\n                                        if (objProp instanceof Object && objProp !== null) iterate(objProp);\r\n                                    }\r\n\r\n                                    // if there are any existing target objects (objects that we're already observing)...\r\n                                    //let c = targets.indexOf(obj);\r\n                                    let c = -1;\r\n                                    for (let i = 0, l = targets.length; i < l; i++) {\r\n                                        if (obj === targets[i]) {\r\n                                            c = i;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                    if (c > -1) {\r\n\r\n                                        // ...then we want to determine if the observables for that object match our current observable\r\n                                        let currentTargetProxy = targetsProxy[c];\r\n                                        let d = currentTargetProxy.length;\r\n\r\n                                        while (d--) {\r\n                                            // if we do have an observable monitoring the object thats about to be overwritten\r\n                                            // then we can remove that observable from the target object\r\n                                            if (observable === currentTargetProxy[d].observable) {\r\n                                                currentTargetProxy.splice(d, 1);\r\n                                                break;\r\n                                            }\r\n                                        }\r\n\r\n                                        // if there are no more observables assigned to the target object, then we can remove\r\n                                        // the target object altogether. this is necessary to prevent growing memory consumption particularly with large data sets\r\n                                        if (currentTargetProxy.length === 0) {\r\n                                            targetsProxy.splice(c, 1);\r\n                                            targets.splice(c, 1);\r\n                                        }\r\n                                    }\r\n\r\n                                })(targetProp)\r\n                            }\r\n                        }, 10000);\r\n\r\n                        // because the value actually differs than the previous value\r\n                        // we need to store the new value on the original target object\r\n                        target[property] = value;\r\n\r\n                        // TO DO: the next block of code resolves test case #24, but it results in poor IE11 performance. Find a solution.\r\n\r\n                        // if the value we've just set is an object, then we'll need to iterate over it in order to initialize the\r\n                        // observers/proxies on all nested children of the object\r\n                        if (value instanceof Object && value !== null) {\r\n                            (function iterate(proxy) {\r\n                                let target = proxy.__getTarget;\r\n                                let keys = Object.keys(target);\r\n                                for (let i = 0, l = keys.length; i < l; i++) {\r\n                                    let property = keys[i];\r\n                                    if (target[property] instanceof Object && target[property] !== null) iterate(proxy[property]);\r\n                                }\r\n                            })(proxy[property]);\r\n                        }\r\n\r\n                    }\r\n\r\n                    // notify the observer functions that the target has been modified\r\n                    _notifyObservers(changes.length);\r\n\r\n                }\r\n                return true;\r\n            }\r\n        };\r\n\r\n        // create the proxy that we'll use to observe any changes\r\n        let proxy = new Proxy(target, handler);\r\n\r\n        // we don't want to create a new observable if this function was invoked recursively\r\n        if (observable === null) {\r\n            observable = {\r\n                parentTarget: target,\r\n                domDelay: domDelay,\r\n                parentProxy: proxy,\r\n                observers: [],\r\n                targets: [target],\r\n                proxies: [proxy],\r\n                paused: false,\r\n                path: path\r\n            };\r\n            observables.push(observable);\r\n        } else {\r\n            observable.targets.push(target);\r\n            observable.proxies.push(proxy);\r\n        }\r\n\r\n        // store the proxy we've created so it isn't re-created unnecessary via get handler\r\n        let proxyItem = {target, proxy, observable};\r\n\r\n        //let targetPosition = targets.indexOf(target);\r\n        let targetPosition = -1;\r\n        for (let i = 0, l = targets.length; i < l; i++) {\r\n            if (target === targets[i]) {\r\n                targetPosition = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // if we have already created a Proxy for this target object then we add it to the corresponding array\r\n        // on targetsProxy (targets and targetsProxy work together as a Hash table indexed by the actual target object).\r\n        if (targetPosition > -1) {\r\n            targetsProxy[targetPosition].push(proxyItem);\r\n            // else this is a target object that we have not yet created a Proxy for, so we must add it to targets,\r\n            // and push a new array on to targetsProxy containing the new Proxy\r\n        } else {\r\n            targets.push(target);\r\n            targetsProxy.push([proxyItem]);\r\n            targetPosition = targets.length - 1;\r\n        }\r\n\r\n        return proxy;\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Create\r\n         * @description Public method that is invoked to create a new ES6 Proxy whose changes we can observe through the Observerable.observe() method.\r\n         * @param target {Object} required, plain JavaScript object that we want to observe for changes.\r\n         * @param domDelay {Boolean} if true, then batch up changes on a 10ms delay so a series of changes can be processed in one DOM update.\r\n         * @param observer {Function} optional, will be invoked when a change is made to the proxy.\r\n         * @returns {Object}\r\n         */\r\n        create: function (target, domDelay, observer) {\r\n\r\n            // test if the target is a Proxy, if it is then we need to retrieve the original object behind the Proxy.\r\n            // we do not allow creating proxies of proxies because -- given the recursive design of ObservableSlim -- it would lead to sharp increases in memory usage\r\n            if (target.__isProxy === true) {\r\n                target = target.__getTarget;\r\n                //if it is, then we should throw an error. we do not allow creating proxies of proxies\r\n                // because -- given the recursive design of ObservableSlim -- it would lead to sharp increases in memory usage\r\n                //throw new Error('ObservableSlim.create() cannot create a Proxy for a target object that is also a Proxy.');\r\n            }\r\n\r\n            // fire off the _create() method -- it will create a new observable and proxy and return the proxy\r\n            let proxy = _create(target, domDelay);\r\n\r\n            // assign the observer function\r\n            if (typeof observer === 'function') this.observe(proxy, observer);\r\n\r\n            // recursively loop over all nested objects on the proxy we've just created\r\n            // this will allow the top observable to observe any changes that occur on a nested object\r\n            (function iterate(proxy) {\r\n                let target = proxy.__getTarget;\r\n                let keys = Object.keys(target);\r\n                for (let i = 0, l = keys.length; i < l; i++) {\r\n                    let property = keys[i];\r\n                    if (target[property] instanceof Object && target[property] !== null) iterate(proxy[property]);\r\n                }\r\n            })(proxy);\r\n\r\n            return proxy;\r\n        },\r\n\r\n        /**\r\n         * observe\r\n         * @description This method is used to add a new observer function to an existing proxy.\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method. We want to observe changes made to this object.\r\n         * @param observer {Function} this function will be invoked when a change is made to the observable (not to be confused with the observer defined in the create() method).\r\n         */\r\n        observe: function (proxy, observer) {\r\n            // loop over all the observables created by the _create() function\r\n            let i = observables.length;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].observers.push(observer);\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Pause\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method\r\n         */\r\n        pause: function (proxy) {\r\n            let i = observables.length;\r\n            let foundMatch = false;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].paused = true;\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (foundMatch === false) throw new Error('DOZ could not pause observable -- matching proxy not found.');\r\n        },\r\n\r\n        /**\r\n         * Resume\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method\r\n         */\r\n        resume: function (proxy) {\r\n            let i = observables.length;\r\n            let foundMatch = false;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].paused = false;\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (foundMatch === false) throw new Error('DOZ could not resume observable -- matching proxy not found.');\r\n        },\r\n\r\n        /**\r\n         * Remove\r\n         * @description this method will remove the observable and proxy thereby preventing any further callback observers for changes occuring to the target object.\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method\r\n         */\r\n        remove: function (proxy) {\r\n\r\n            let matchedObservable = null;\r\n            let foundMatch = false;\r\n\r\n            let c = observables.length;\r\n            while (c--) {\r\n                if (observables[c].parentProxy === proxy) {\r\n                    matchedObservable = observables[c];\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            let a = targetsProxy.length;\r\n            while (a--) {\r\n                let b = targetsProxy[a].length;\r\n                while (b--) {\r\n                    if (targetsProxy[a][b].observable === matchedObservable) {\r\n                        targetsProxy[a].splice(b, 1);\r\n                        if (targetsProxy[a].length === 0) {\r\n                            targetsProxy.splice(a, 1);\r\n                            targets.splice(a, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (foundMatch === true) {\r\n                observables.splice(c, 1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * beforeChange\r\n         * @description This method accepts a function will be invoked before changes.\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method.\r\n         * @param callback {Function} will be invoked before every change is made to the proxy, if it returns false no changes will be made.\r\n         */\r\n        beforeChange: function (proxy, callback) {\r\n            if (typeof callback !== 'function')\r\n                throw new Error('Callback function is required');\r\n\r\n            let i = observables.length;\r\n            let foundMatch = false;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].beforeChange = callback;\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (foundMatch === false) throw new Error('DOZ -- matching proxy not found.');\r\n        },\r\n\r\n        /**\r\n         * beginRender\r\n         * @description This method set renderMode to true so the param in get is sanitized.\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method.\r\n         */\r\n        beginRender: function (proxy) {\r\n            let i = observables.length;\r\n            let foundMatch = false;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].renderMode = true;\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (foundMatch === false) throw new Error('DOZ -- matching proxy not found.');\r\n        },\r\n\r\n        /**\r\n         * endRender\r\n         * @description This method set renderMode to false.\r\n         * @param proxy {Proxy} the ES6 Proxy returned by the create() method.\r\n         */\r\n        endRender: function (proxy) {\r\n            let i = observables.length;\r\n            let foundMatch = false;\r\n            while (i--) {\r\n                if (observables[i].parentProxy === proxy) {\r\n                    observables[i].renderMode = false;\r\n                    foundMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (foundMatch === false) throw new Error('DOZ -- matching proxy not found.');\r\n        }\r\n    };\r\n})();\r\n\r\nmodule.exports = ObservableSlim;\r\n","const _list = [];\r\n\r\n/**\r\n * Simple deprecate\r\n * @param prop {*}\r\n * @param msg {string}\r\n * @returns {boolean}\r\n */\r\nconst deprecate = (prop, msg) => {\r\n    if(typeof prop !== 'undefined') {\r\n        msg = msg || prop;\r\n\r\n        if(!_list.includes(msg))\r\n            _list.push(msg);\r\n\r\n        console.warn('[' + deprecate.title + ']', msg);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\ndeprecate.title = 'DeprecationWarning';\r\n\r\n/**\r\n * Calls only once same deprecation\r\n * @param args\r\n * @returns {boolean}\r\n */\r\nconst once = (...args) => {\r\n    if(_list.includes(args[1] || args[0]))\r\n        return false;\r\n    return deprecate.apply(this, args);\r\n};\r\n\r\nmodule.exports = deprecate;\r\nmodule.exports.once = once;\r\nmodule.exports._list = _list;","const deprecate = require('../utils/deprecate');\r\n\r\nfunction callBeforeCreate(context) {\r\n    if(typeof context.onBeforeCreate === 'function'){\r\n        return context.onBeforeCreate.call(context);\r\n    }\r\n}\r\n\r\nfunction callCreate(context) {\r\n    if(typeof context.onCreate === 'function'){\r\n        context.onCreate.call(context);\r\n    }\r\n}\r\n\r\nfunction callRender(context) {\r\n    if(typeof context.onRender === 'function'){\r\n        deprecate.once('onRender is deprecated since v. 1.0.0, use onMount instead');\r\n        context.onRender.call(context);\r\n    }\r\n}\r\n\r\nfunction callBeforeMount(context) {\r\n    if(typeof context.onBeforeMount === 'function'){\r\n        return context.onBeforeMount.call(context);\r\n    }\r\n}\r\n\r\nfunction callMount(context) {\r\n    if(typeof context.onMount === 'function'){\r\n        context.onMount.call(context);\r\n    }\r\n}\r\n\r\nfunction callMountAsync(context) {\r\n    if(typeof context.onMountAsync === 'function'){\r\n        setTimeout(()=>{\r\n            context.onMountAsync.call(context);\r\n        });\r\n    }\r\n}\r\n\r\nfunction callBeforeUpdate(context, changes) {\r\n    if(typeof context.onBeforeUpdate === 'function'){\r\n        return context.onBeforeUpdate.call(context, changes);\r\n    }\r\n}\r\n\r\nfunction callUpdate(context, changes) {\r\n    if(typeof context.onUpdate === 'function'){\r\n        context.onUpdate.call(context, changes);\r\n    }\r\n}\r\n\r\nfunction callBeforeUnmount(context) {\r\n    if(typeof context.onBeforeUnmount === 'function'){\r\n        return context.onBeforeUnmount.call(context);\r\n    }\r\n}\r\n\r\nfunction callUnmount(context) {\r\n    if(typeof context.onUnmount === 'function'){\r\n        context.onUnmount.call(context);\r\n    }\r\n}\r\n\r\nfunction callBeforeDestroy(context) {\r\n    if(typeof context.onBeforeDestroy === 'function'){\r\n        return context.onBeforeDestroy.call(context);\r\n    }\r\n}\r\n\r\nfunction callDestroy(context) {\r\n    if(typeof context.onDestroy === 'function'){\r\n        context.onDestroy.call(context);\r\n        context = null;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    callBeforeCreate,\r\n    callCreate,\r\n    callRender,\r\n    callBeforeMount,\r\n    callMount,\r\n    callMountAsync,\r\n    callBeforeUpdate,\r\n    callUpdate,\r\n    callBeforeUnmount,\r\n    callUnmount,\r\n    callBeforeDestroy,\r\n    callDestroy\r\n};","function delay(cb) {\r\n    if (window.requestAnimationFrame !== undefined)\r\n        return window.requestAnimationFrame(cb);\r\n    else\r\n        return window.setTimeout(cb);\r\n}\r\n\r\nmodule.exports = delay;","const proxy = require('../utils/proxy');\r\nconst events = require('./hooks');\r\nconst delay = require('../utils/delay');\r\n\r\nfunction updateBound(instance, changes) {\r\n    changes.forEach(item => {\r\n        if (instance._boundElements.hasOwnProperty(item.property)) {\r\n            instance._boundElements[item.property].forEach(element => {\r\n                if (element.type === 'checkbox') {\r\n                    if(!element.defaultValue)\r\n                        element.checked = item.newValue;\r\n                    else if (Array.isArray(item.newValue)) {\r\n                        const inputs = document.querySelectorAll(`input[name=${element.name}][type=checkbox]`);\r\n                        [...inputs].forEach(input => input.checked = item.newValue.includes(input.value));\r\n                    }\r\n                } else if (element.type === 'radio') {\r\n                    element.checked = element.value === item.newValue;\r\n                } else if(element.type === 'select-multiple' && Array.isArray(item.newValue)) {\r\n                    [...element.options].forEach(option => option.selected = item.newValue.includes(option.value));\r\n                } else {\r\n                    element.value = item.newValue;\r\n                }\r\n\r\n            })\r\n        }\r\n    });\r\n}\r\n\r\nfunction create(instance, props) {\r\n    instance.props = proxy.create(props, null, changes => {\r\n        instance.render();\r\n        updateBound(instance, changes);\r\n        if (instance._isCreated) {\r\n            delay(() => {\r\n                events.callUpdate(instance, changes);\r\n            });\r\n        }\r\n    });\r\n\r\n    proxy.beforeChange(instance.props, changes => {\r\n        const res = events.callBeforeUpdate(instance, changes);\r\n        if (res === false)\r\n            return false;\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    create\r\n};","function castStringTo(obj) {\r\n\r\n    if (typeof obj !== 'string') {\r\n        return obj;\r\n    }\r\n\r\n    switch (obj) {\r\n        case 'undefined':\r\n            return undefined;\r\n        case 'null':\r\n            return null;\r\n        case 'NaN':\r\n            return NaN;\r\n        case 'Infinity':\r\n            return Infinity;\r\n        case 'true':\r\n            return true;\r\n        case 'false':\r\n            return false;\r\n        case '0':\r\n            return 0;//obj;\r\n        default:\r\n            try {\r\n                return JSON.parse(obj)\r\n            } catch (e) {}\r\n            break;\r\n    }\r\n\r\n    const num = parseFloat(obj);\r\n    if (!isNaN(num) && isFinite(obj)) {\r\n        if (obj.toLowerCase().indexOf('0x') === 0) {\r\n            return parseInt(obj, 16);\r\n        }\r\n        return num;\r\n    }\r\n\r\n    return obj;\r\n\r\n}\r\n\r\nmodule.exports = castStringTo;","function dashToCamel(s) {\r\n    return s.replace(/(-\\w)/g, function (m) {\r\n        return m[1].toUpperCase();\r\n    });\r\n}\r\n\r\nmodule.exports = dashToCamel;","const castStringTo = require('../utils/cast-string-to');\r\nconst dashToCamel = require('../utils/dash-to-camel');\r\nconst {REGEX, ATTR} = require('../constants');\r\n\r\nfunction serializeProps(node) {\r\n    const props = {};\r\n    if (node.attributes) {\r\n        const attributes = Array.from(node.attributes);\r\n        for (let j = attributes.length - 1; j >= 0; --j) {\r\n            let attr = attributes[j];\r\n            let isComponentListener = attr.name.match(REGEX.IS_COMPONENT_LISTENER);\r\n            if (isComponentListener) {\r\n                if (props[ATTR.LISTENER] === undefined)\r\n                    props[ATTR.LISTENER] = {};\r\n                props[ATTR.LISTENER][isComponentListener[1]] = attr.nodeValue;\r\n                delete props[attr.name];\r\n            } else {\r\n                let value = attr.nodeValue;\r\n                if (REGEX.IS_STRING_QUOTED.test(value))\r\n                    value = attr.nodeValue.replace(/\"/g, '&quot;');\r\n                props[\r\n                    REGEX.IS_CUSTOM_TAG.test(node.nodeName)\r\n                        ? dashToCamel(attr.name)\r\n                        : attr.name\r\n                    ] = attr.name === ATTR.FORCE_UPDATE\r\n                    ? true\r\n                    : castStringTo(value);\r\n            }\r\n        }\r\n    }\r\n    return props;\r\n}\r\n\r\nfunction transform(node) {\r\n\r\n    let root = {};\r\n\r\n    function walking(node, parent) {\r\n        while (node) {\r\n            let obj;\r\n\r\n            if (node.nodeType === 3) {\r\n                obj = node.nodeValue;\r\n            } else {\r\n                obj = {};\r\n                obj.type = node.nodeName;//.toLowerCase();\r\n                obj.children = [];\r\n                obj.props = serializeProps(node);\r\n                obj.isSVG = typeof node.ownerSVGElement !== 'undefined';\r\n                //console.dir(node);\r\n            }\r\n\r\n            if (!Object.keys(root).length)\r\n                root = obj;\r\n\r\n            if (parent && parent.children) {\r\n                parent.children.push(obj);\r\n            }\r\n\r\n            if (node.hasChildNodes()) {\r\n                walking(node.firstChild, obj);\r\n            }\r\n\r\n            node = node.nextSibling\r\n        }\r\n    }\r\n\r\n    walking(node, root);\r\n\r\n    return root;\r\n}\r\n\r\nmodule.exports = {\r\n    transform,\r\n    serializeProps\r\n};","function camelToDash(s) {\r\n    return s.replace(/([a-zA-Z])(?=[A-Z])/g, '$1-').toLowerCase()\r\n}\r\n\r\nmodule.exports = camelToDash;","function getByPath(path, obj) {\r\n    return path.split('.').reduce((res, prop) =>\r\n            res\r\n                ? res[prop]\r\n                : undefined\r\n        , obj);\r\n}\r\n\r\nfunction getLast(path, obj) {\r\n    if (path.indexOf('.') !== -1) {\r\n        path = path.split('.');\r\n        path.pop();\r\n        path = path.join('.');\r\n    }\r\n    return getByPath(path, obj);\r\n}\r\n\r\nmodule.exports = getByPath;\r\nmodule.exports.getLast = getLast;","const {REGEX, ATTR, CMP_INSTANCE} = require('../constants');\r\nconst castStringTo = require('../utils/cast-string-to');\r\nconst dashToCamel = require('../utils/dash-to-camel');\r\nconst camelToDash = require('../utils/camel-to-dash');\r\nconst objectPath = require('../utils/object-path');\r\nconst delay = require('../utils/delay');\r\n\r\nfunction isEventAttribute(name) {\r\n    return REGEX.IS_LISTENER.test(name);\r\n}\r\n\r\nfunction isBindAttribute(name) {\r\n    return name === ATTR.BIND;\r\n}\r\n\r\nfunction isRefAttribute(name) {\r\n    return name === ATTR.REF;\r\n}\r\n\r\nfunction canBind($target) {\r\n    return ['INPUT', 'TEXTAREA', 'SELECT'].indexOf($target.nodeName) !== -1\r\n}\r\n\r\nfunction setAttribute($target, name, value, cmp) {\r\n    if (REGEX.IS_CUSTOM_TAG.test($target.nodeName))\r\n        name = camelToDash(name);\r\n    if (isCustomAttribute(name)) {\r\n    } else if (typeof value === 'boolean') {\r\n        setBooleanAttribute($target, name, value);\r\n    } else if (typeof value === 'object') {\r\n        try {\r\n            $target.setAttribute(name, JSON.stringify(value));\r\n        } catch (e) {\r\n\r\n        }\r\n    } else {\r\n        $target.setAttribute(name, value);\r\n    }\r\n}\r\n\r\nfunction removeAttribute($target, name, value) {\r\n    if (isCustomAttribute(name) || !$target) {\r\n    } else {\r\n        $target.removeAttribute(name);\r\n    }\r\n}\r\n\r\nfunction updateAttribute($target, name, newVal, oldVal, cmp) {\r\n    if (newVal === '') {\r\n        removeAttribute($target, name, oldVal, cmp);\r\n        updateChildren(cmp, name, newVal, $target);\r\n    } else if (oldVal === '' || newVal !== oldVal) {\r\n        setAttribute($target, name, newVal, cmp);\r\n        updateChildren(cmp, name, newVal, $target);\r\n    }\r\n}\r\n\r\nfunction updateChildren(cmp, name, value, $target) {\r\n    if (cmp && cmp.updateChildrenProps && $target) {\r\n        name = dashToCamel(name);\r\n        const firstChild = $target.firstChild;\r\n        if (firstChild && firstChild[CMP_INSTANCE] && firstChild[CMP_INSTANCE]._publicProps.hasOwnProperty(name))\r\n            firstChild[CMP_INSTANCE].props[name] = value;\r\n    }\r\n}\r\n\r\nfunction updateAttributes($target, newProps, oldProps = {}, cmp) {\r\n    const props = Object.assign({}, newProps, oldProps);\r\n    let updated = [];\r\n    Object.keys(props).forEach(name => {\r\n        updateAttribute($target, name, newProps[name], oldProps[name], cmp);\r\n        if (newProps[name] !== oldProps[name]) {\r\n            let obj = {};\r\n            obj[name] = newProps[name];\r\n            updated.push(obj);\r\n        }\r\n    });\r\n\r\n    return updated;\r\n}\r\n\r\nfunction isCustomAttribute(name) {\r\n    return isEventAttribute(name)\r\n        || isBindAttribute(name)\r\n        || isRefAttribute(name)\r\n        || name === ATTR.FORCE_UPDATE;\r\n}\r\n\r\nfunction setBooleanAttribute($target, name, value) {\r\n    if (!$target) return;\r\n    $target.setAttribute(name, value);\r\n    $target[name] = value;\r\n}\r\n\r\nfunction extractEventName(name) {\r\n    return name.slice(2).toLowerCase();\r\n}\r\n\r\nfunction trimQuotes(str) {\r\n    return str.replace(REGEX.TRIM_QUOTES, '$1');\r\n}\r\n\r\nfunction addEventListener($target, name, value, cmp) {\r\n\r\n    if (!isEventAttribute(name)) return;\r\n\r\n    let match = value.match(REGEX.GET_LISTENER);\r\n\r\n    if (match) {\r\n        let args = null;\r\n        let handler = match[1];\r\n        let stringArgs = match[2];\r\n        if (stringArgs) {\r\n            args = stringArgs.split(',').map(item => {\r\n                item = item.trim();\r\n                return item === 'this' ? cmp : castStringTo(trimQuotes(item))\r\n            })\r\n        }\r\n\r\n        let isParentMethod = handler.match(REGEX.IS_PARENT_METHOD);\r\n\r\n        if (isParentMethod) {\r\n            handler = isParentMethod[1];\r\n            cmp = cmp.parent;\r\n        }\r\n\r\n        const method = objectPath(handler, cmp);\r\n\r\n        if (method !== undefined) {\r\n            value = args\r\n                ? method.bind(cmp, ...args)\r\n                : method.bind(cmp);\r\n        }\r\n    }\r\n\r\n    if (typeof value === 'function')\r\n        $target.addEventListener(\r\n            extractEventName(name),\r\n            value\r\n        );\r\n    else {\r\n        const _func = function () {\r\n            eval(value)\r\n        };\r\n        $target.addEventListener(\r\n            extractEventName(name),\r\n            _func.bind(cmp)\r\n        );\r\n    }\r\n}\r\n\r\nfunction setBind($target, name, value, cmp) {\r\n    if (!isBindAttribute(name) || !canBind($target)) return;\r\n    if (typeof cmp.props[value] !== 'undefined') {\r\n\r\n        let events = ['compositionstart', 'compositionend', 'input', 'change'];\r\n\r\n        events.forEach(function (event) {\r\n            $target.addEventListener(event, function (e) {\r\n                let _value;\r\n                if (this.type === 'checkbox') {\r\n                    if(!this.defaultValue)\r\n                        cmp.props[value] = this.checked;\r\n                    else {\r\n                        const inputs = document.querySelectorAll(`input[name=${this.name}][type=checkbox]:checked`);\r\n                        _value = [...inputs].map(input => input.value);\r\n                        cmp.props[value] = _value;\r\n                    }\r\n                } else {\r\n                    _value = this.value;\r\n                    if (this.multiple) {\r\n                        _value = [...this.options].filter(option => option.selected).map(option => option.value);\r\n                    }\r\n                    cmp.props[value] = _value;\r\n                }\r\n            });\r\n        });\r\n\r\n        if (cmp._boundElements.hasOwnProperty(value)) {\r\n            cmp._boundElements[value].push($target);\r\n        } else {\r\n            cmp._boundElements[value] = [$target];\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nfunction setRef($target, name, value, cmp) {\r\n    if (!isRefAttribute(name)) return;\r\n    cmp.ref[value] = $target\r\n}\r\n\r\nfunction attach($target, props, cmp) {\r\n    let bindValue;\r\n\r\n    Object.keys(props).forEach(name => {\r\n        setAttribute($target, name, props[name], cmp);\r\n        addEventListener($target, name, props[name], cmp);\r\n        if (setBind($target, name, props[name], cmp)) {\r\n            bindValue = cmp.props[props[name]];\r\n        }\r\n        setRef($target, name, props[name], cmp);\r\n    });\r\n\r\n    for (let i in $target.dataset) {\r\n        if ($target.dataset.hasOwnProperty(i) && REGEX.IS_LISTENER.test(i)) {\r\n            addEventListener($target, i, $target.dataset[i], cmp);\r\n        }\r\n    }\r\n\r\n    if (typeof bindValue !== 'undefined') {\r\n        delay(() => {\r\n            let inputs;\r\n            if ($target.type === 'radio') {\r\n                inputs = document.querySelectorAll(`input[name=${$target.name}][type=radio]`);\r\n                inputs.forEach(input => input.checked = bindValue === input.value);\r\n            } else if ($target.type === 'checkbox') {\r\n                if(typeof bindValue === 'object') {\r\n                    inputs = document.querySelectorAll(`input[name=${$target.name}][type=checkbox]`);\r\n                    inputs.forEach(input => input.checked = Array.from(bindValue).includes(input.value));\r\n                } else\r\n                    $target.checked = bindValue;\r\n            } else {\r\n                $target.value = bindValue;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    attach,\r\n    updateAttributes\r\n};","const {attach, updateAttributes} = require('./attributes');\r\nconst deadChildren = [];\r\nconst {INSTANCE, TAG, NS, CMP_INSTANCE} = require('../constants');\r\n\r\nfunction isChanged(nodeA, nodeB) {\r\n    return typeof nodeA !== typeof nodeB ||\r\n        typeof nodeA === 'string' && nodeA !== nodeB ||\r\n        nodeA.type !== nodeB.type ||\r\n        nodeA.props && nodeA.props.forceupdate;\r\n}\r\n\r\nfunction create(node, cmp, initial) {\r\n    if (typeof node === 'undefined') return;\r\n\r\n    if (typeof node === 'string') {\r\n        return document.createTextNode(node);\r\n    }\r\n\r\n    if (node.type[0] === '#') {\r\n        node.type = TAG.EMPTY;\r\n    }\r\n\r\n    const $el = node.isSVG\r\n        ? document.createElementNS(NS.SVG, node.type)\r\n        : document.createElement(node.type);\r\n\r\n    attach($el, node.props, cmp);\r\n\r\n    node.children\r\n        .map(item => create(item, cmp, initial))\r\n        .forEach($el.appendChild.bind($el));\r\n\r\n    if (node.type.indexOf('-')!== -1 && !initial) {\r\n        //console.log('ADD TO DYNAMIC', $el)\r\n        cmp._processing.push({node: $el, action: 'create'});\r\n    }\r\n\r\n    return $el;\r\n}\r\n\r\nfunction update($parent, newNode, oldNode, index = 0, cmp, initial) {\r\n\r\n    if (!$parent) return;\r\n\r\n    if (!oldNode) {\r\n        const rootElement = create(newNode, cmp, initial);\r\n        $parent.appendChild(rootElement);\r\n        return rootElement;\r\n    } else if (!newNode) {\r\n        if ($parent.childNodes[index]) {\r\n            deadChildren.push($parent.childNodes[index]);\r\n        }\r\n    } else if (isChanged(newNode, oldNode)) {\r\n        const newElement = create(newNode, cmp, initial);\r\n        const oldElement = $parent.childNodes[index];\r\n\r\n        //Re-assign CMP INSTANCE to new element\r\n        if (oldElement[CMP_INSTANCE]) {\r\n            newElement[CMP_INSTANCE] = oldElement[CMP_INSTANCE];\r\n            newElement[CMP_INSTANCE]._rootElement = newElement;\r\n        }\r\n\r\n        $parent.replaceChild(\r\n            newElement,\r\n            oldElement\r\n        );\r\n        return newElement;\r\n    } else if (newNode.type) {\r\n        let updated = updateAttributes(\r\n            $parent.childNodes[index],\r\n            newNode.props,\r\n            oldNode.props,\r\n            cmp\r\n        );\r\n\r\n        if ($parent.childNodes[index]) {\r\n            const dynInstance = $parent.childNodes[index][INSTANCE];\r\n            if (dynInstance && updated.length) {\r\n                updated.forEach(props => {\r\n                    Object.keys(props).forEach(name => {\r\n                        dynInstance.props[name] = props[name]\r\n                    })\r\n                });\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        const newLength = newNode.children.length;\r\n        const oldLength = oldNode.children.length;\r\n\r\n        for (let i = 0; i < newLength || i < oldLength; i++) {\r\n            update(\r\n                $parent.childNodes[index],\r\n                newNode.children[i],\r\n                oldNode.children[i],\r\n                i,\r\n                cmp,\r\n                initial\r\n            );\r\n        }\r\n\r\n        clearDead();\r\n    }\r\n}\r\n\r\nfunction clearDead() {\r\n    let dl = deadChildren.length;\r\n\r\n    while (dl--) {\r\n        deadChildren[dl].parentNode.removeChild(deadChildren[dl]);\r\n        deadChildren.splice(dl, 1);\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    create,\r\n    update\r\n};","const element = require('./element');\r\n\r\nmodule.exports = {\r\n    updateElement: element.update\r\n};","function create(instance) {\r\n\r\n    if (typeof instance.store === 'string') {\r\n        if (instance.app._stores[instance.store] !== undefined) {\r\n            throw new Error(`Store already defined: ${instance.store}`);\r\n        }\r\n        instance.app._stores[instance.store] = instance.props;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    create\r\n};","function create(instance) {\r\n\r\n    if (typeof instance.id === 'string') {\r\n        if (instance.app._ids[instance.id] !== undefined) {\r\n            throw new Error(`ID already defined: ${instance.id}`);\r\n        }\r\n        instance.app._ids[instance.id] = instance;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    create\r\n};","const {ATTR} = require('../constants');\r\n\r\nfunction extract(props) {\r\n\r\n    const dProps = {};\r\n\r\n    if (props[ATTR.ALIAS] !== undefined) {\r\n        dProps['alias'] = props[ATTR.ALIAS];\r\n        delete  props[ATTR.ALIAS];\r\n    }\r\n\r\n    if (props[ATTR.STORE] !== undefined) {\r\n        dProps['store'] = props[ATTR.STORE];\r\n        delete  props[ATTR.STORE];\r\n    }\r\n\r\n    if (props[ATTR.LISTENER] !== undefined) {\r\n        dProps['callback'] = props[ATTR.LISTENER];\r\n        delete  props[ATTR.LISTENER];\r\n    }\r\n\r\n    if (props[ATTR.ID] !== undefined) {\r\n        dProps['id'] = props[ATTR.ID];\r\n        delete  props[ATTR.ID];\r\n    }\r\n\r\n    return dProps;\r\n}\r\n\r\nmodule.exports = {\r\n    extract\r\n};","const camelToDash = require('./camel-to-dash');\r\n\r\nfunction toInlineStyle(obj, withStyle = true) {\r\n    obj = Object.entries(obj).reduce((styleString, [propName, propValue]) => {\r\n        return `${styleString}${camelToDash(propName)}:${propValue};`;\r\n    }, '');\r\n    return withStyle ? `style=\"${obj}\"` : obj;\r\n}\r\n\r\nmodule.exports = toInlineStyle;","function hmr (instance, _module) {\r\n    if (!_module || !_module.hot) return;\r\n    const NS_PROPS = '__doz_hmr_props_store__';\r\n    const NS_INIT_PROPS = '__doz_hmr_init_props_store__';\r\n\r\n    window[NS_PROPS] = window[NS_PROPS] || {};\r\n    window[NS_INIT_PROPS] = window[NS_INIT_PROPS] || {};\r\n    const id = _module.id;\r\n    window[NS_PROPS][id] = window[NS_PROPS][id] || new Map();\r\n    window[NS_INIT_PROPS][id] = window[NS_INIT_PROPS][id] || new Map();\r\n\r\n    Object.keys(instance.props).forEach(p => {\r\n        if (instance._initialProps[p] === window[NS_INIT_PROPS][id].get(p))\r\n            instance.props[p] = window[NS_PROPS][id].get(p) || instance.props[p];\r\n        else\r\n            instance.props[p] = instance._initialProps[p];\r\n    });\r\n\r\n    _module.hot.dispose(() => {\r\n        Object.keys(instance.props).forEach(p => {\r\n            window[NS_PROPS][id].set(p, instance.props[p]);\r\n            window[NS_INIT_PROPS][id].set(p, instance._initialProps[p]);\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = hmr;","const toInlineStyle = require('../utils/to-inline-style');\r\n\r\nfunction scoped(instance) {\r\n    if (typeof instance.style !== 'object') return;\r\n\r\n    function composeStyle(style) {\r\n        let out = '';\r\n        Object.keys(style).forEach(key => {\r\n            if (/^@media/.test(key)) {\r\n                out += `${key} {${composeStyle(style[key])}}`\r\n            } else {\r\n                let properties = toInlineStyle(style[key], false);\r\n                key = `${tag} ${key.replace(/(,)/g, `$1${tag} `)}`;\r\n                out += `${key}{${properties}} `;\r\n            }\r\n        });\r\n        return out;\r\n    }\r\n\r\n    const tag = instance.tag;\r\n    const styleId = `${instance.tag}--style`;\r\n\r\n    if (document.querySelector(`#${styleId}`)) return;\r\n\r\n    const styleEl = document.createElement('style');\r\n    styleEl.id = styleId;\r\n    styleEl.innerHTML = composeStyle(instance.style);\r\n\r\n    document.head.appendChild(styleEl);\r\n}\r\n\r\nmodule.exports = {\r\n    scoped\r\n};","function add(instance) {\r\n    if (typeof instance.onAppReady === 'function') {\r\n        instance.onAppReady._instance = instance;\r\n        instance.app._onAppReadyCB.push(instance.onAppReady);\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    add\r\n};","function extendInstance(instance, cfg, dProps) {\r\n    Object.assign(instance, cfg, dProps);\r\n\r\n    // Add local components\r\n    if (Array.isArray(cfg.components)) {\r\n        cfg.components.forEach(cmp => {\r\n            if (typeof cmp === 'object' && typeof cmp.tag === 'string' && typeof cmp.cfg === 'object') {\r\n                instance._components[cmp.tag] = cmp;\r\n            }\r\n        });\r\n        delete instance.components;\r\n    } else if (typeof cfg.components === 'object'){\r\n        Object.keys(cfg.components).forEach(objName => {\r\n            instance._components[objName] = {\r\n                tag: objName,\r\n                cfg: cfg.components[objName]\r\n            }\r\n        });\r\n        delete instance.components;\r\n    }\r\n}\r\n\r\nmodule.exports = extendInstance;","function cloneObject(obj) {\r\n    return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nmodule.exports = cloneObject;","const extend = require('../utils/extend');\r\nconst html = require('../utils/html');\r\nconst {TAG, CMP_INSTANCE, INSTANCE} = require('../constants');\r\nconst collection = require('../collection');\r\nconst observer = require('./observer');\r\nconst hooks = require('./hooks');\r\nconst {transform, serializeProps} = require('../vdom/parser');\r\nconst update = require('../vdom').updateElement;\r\nconst store = require('./store');\r\nconst ids = require('./ids');\r\nconst {extract} = require('./d-props');\r\nconst proxy = require('../utils/proxy');\r\nconst toInlineStyle = require('../utils/to-inline-style');\r\nconst hmr = require('./hmr');\r\nconst style = require('./style');\r\nconst queueReady = require('./queue-ready');\r\nconst extendInstance = require('./extend-instance');\r\nconst cloneObject = require('../utils/clone-object');\r\n\r\nfunction get(cfg = {}) {\r\n\r\n    if (!cfg.root) return;\r\n\r\n    cfg.template = typeof cfg.template === 'string'\r\n        ? html.create(cfg.template)\r\n        : cfg.template;\r\n\r\n    cfg.root.appendChild(cfg.template);\r\n\r\n    let component = null;\r\n    let parentElement;\r\n    const trash = [];\r\n\r\n    function walk(child, parent = {}) {\r\n        while (child) {\r\n\r\n            const cmpName = child.nodeName.toLowerCase();\r\n            let localComponents = {};\r\n\r\n            if (parent.cmp && parent.cmp._components) {\r\n                localComponents = parent.cmp._components;\r\n            }\r\n\r\n            const cmp = cfg.autoCmp ||\r\n                localComponents[cmpName] ||\r\n                cfg.app._components[cmpName] ||\r\n                collection.get(child.nodeName);\r\n\r\n            if (cmp) {\r\n\r\n                if (parent.cmp) {\r\n                    const rawChild = child.outerHTML;\r\n                    parent.cmp.rawChildren.push(rawChild);\r\n                }\r\n\r\n                if (parent.cmp && parent.cmp.autoCreateChildren === false) {\r\n                    trash.push(child);\r\n                    child = child.nextSibling;\r\n                    continue;\r\n                }\r\n\r\n                const props = serializeProps(child);\r\n                const dProps = extract(props);\r\n\r\n                const newElement = create(cmp, {\r\n                    root: child,\r\n                    app: cfg.app,\r\n                    props,\r\n                    dProps,\r\n                    parentCmp: parent.cmp\r\n                });\r\n\r\n                if (!newElement) {\r\n                    child = child.nextSibling;\r\n                    continue;\r\n                }\r\n\r\n                if (typeof newElement.module === 'object') {\r\n                    hmr(newElement, newElement.module);\r\n                }\r\n\r\n                if (hooks.callBeforeMount(newElement) !== false) {\r\n                    newElement.render(true);\r\n\r\n                    if (!component) {\r\n                        component = newElement;\r\n                    }\r\n\r\n                    newElement._rootElement[CMP_INSTANCE] = newElement;\r\n\r\n                    child.insertBefore(newElement._rootElement, child.firstChild);\r\n\r\n                    hooks.callRender(newElement);\r\n                    hooks.callMount(newElement);\r\n                    hooks.callMountAsync(newElement);\r\n                }\r\n\r\n                parentElement = newElement;\r\n\r\n                if (parent.cmp) {\r\n                    let n = Object.keys(parent.cmp.children).length;\r\n                    parent.cmp.children[newElement.alias ? newElement.alias : n++] = newElement;\r\n                }\r\n\r\n                cfg.autoCmp = null;\r\n            }\r\n\r\n            if (child.hasChildNodes()) {\r\n                walk(child.firstChild, {cmp: parentElement})\r\n            }\r\n\r\n            child = child.nextSibling;\r\n        }\r\n    }\r\n\r\n    walk(cfg.template);\r\n\r\n    trash.forEach(child => child.remove());\r\n\r\n    return component;\r\n}\r\n\r\nfunction create(cmp, cfg) {\r\n\r\n    const props = extend.copy(cfg.props,\r\n        typeof cmp.cfg.props === 'function'\r\n            ? cmp.cfg.props()\r\n            : cmp.cfg.props\r\n    );\r\n\r\n    const instance = Object.defineProperties({}, {\r\n        _isCreated: {\r\n            value: false,\r\n            writable: true\r\n        },\r\n        _prevTpl: {\r\n            value: null,\r\n            writable: true\r\n        },\r\n        _prev: {\r\n            value: null,\r\n            writable: true\r\n        },\r\n        _prevProps: {\r\n            value: null,\r\n            writable: true\r\n        },\r\n        _rootElement: {\r\n            value: null,\r\n            writable: true\r\n        },\r\n        _boundElements: {\r\n            value: {},\r\n            writable: true\r\n        },\r\n        _callback: {\r\n            value: cfg.dProps['callback'],\r\n            writable: true\r\n        },\r\n        _cache: {\r\n            value: new Map()\r\n        },\r\n        _loops: {\r\n            value: {},\r\n            writable: true\r\n        },\r\n        _components: {\r\n            value: {},\r\n            writable: true\r\n        },\r\n        _publicProps: {\r\n            value: Object.assign({}, cfg.props)\r\n        },\r\n        _initialProps: {\r\n            value: cloneObject(props)\r\n        },\r\n        _processing: {\r\n            value: [],\r\n            writable: true\r\n        },\r\n        _dynamicChildren: {\r\n            value: [],\r\n            writable: true\r\n        },\r\n        _unmounted: {\r\n            value: false,\r\n            writable: true\r\n        },\r\n        _unmountedParentNode: {\r\n            value: null,\r\n            writable: true\r\n        },\r\n        getHTMLElement: {\r\n            value: function () {\r\n                return this._rootElement.parentNode;\r\n            },\r\n            enumerable: true\r\n        },\r\n        beginSafeRender: {\r\n            value: function () {\r\n                proxy.beginRender(this.props)\r\n            },\r\n            enumerable: true\r\n        },\r\n        endSafeRender: {\r\n            value: function () {\r\n                proxy.endRender(this.props)\r\n            },\r\n            enumerable: true\r\n        },\r\n        app: {\r\n            value: cfg.app,\r\n            enumerable: true\r\n        },\r\n        parent: {\r\n            value: cfg.parentCmp,\r\n            enumerable: true\r\n        },\r\n        ref: {\r\n            value: {},\r\n            writable: true,\r\n            enumerable: true\r\n        },\r\n        children: {\r\n            value: {},\r\n            writable: true,\r\n            enumerable: true\r\n        },\r\n        rawChildren: {\r\n            value: [],\r\n            writable: true,\r\n            enumerable: true\r\n        },\r\n        tag: {\r\n            value: cmp.tag,\r\n            enumerable: true\r\n        },\r\n        emit: {\r\n            value: function (name, ...args) {\r\n                if (this._callback && this._callback[name] !== undefined\r\n                    && this.parent[this._callback[name]] !== undefined\r\n                    && typeof this.parent[this._callback[name]] === 'function') {\r\n                    this.parent[this._callback[name]].apply(this.parent, args);\r\n                }\r\n            },\r\n            enumerable: true\r\n        },\r\n        each: {\r\n            value: function (obj, func, safe = false) {\r\n                let res;\r\n                if (Array.isArray(obj)) {\r\n                    if (safe) this.beginSafeRender();\r\n                    res = obj.map(func).map(stringEl => {\r\n                        if (typeof stringEl === 'string') {\r\n\r\n                            return stringEl.trim()\r\n                        }\r\n                    }).join('');\r\n                    if (safe) this.endSafeRender();\r\n                }\r\n                return res;\r\n            },\r\n            enumerable: true\r\n        },\r\n        toStyle: {\r\n            value: function (obj) {\r\n                return toInlineStyle(obj)\r\n            },\r\n            enumerable: true\r\n        },\r\n        getStore: {\r\n            value: function (storeName) {\r\n                return this.app.getStore(storeName);\r\n            },\r\n            enumerable: true\r\n        },\r\n        getComponentById: {\r\n            value: function (id) {\r\n                return this.app.getComponentById(id);\r\n            },\r\n            enumerable: true\r\n        },\r\n        getCmp: {\r\n            value: function (id) {\r\n                return this.app.getComponentById(id);\r\n            },\r\n            enumerable: true\r\n        },\r\n        appRoot: {\r\n            value: cfg.app._root,\r\n            enumerable: true\r\n        },\r\n        action: {\r\n            value: cfg.app.action,\r\n            enumerable: true\r\n        },\r\n        render: {\r\n            value: function (initial) {\r\n                this.beginSafeRender();\r\n                const template = this.template().trim();\r\n                this.endSafeRender();\r\n\r\n                const tpl = html.create(template, TAG.ROOT);\r\n                let next = transform(tpl);\r\n\r\n                const rootElement = update(cfg.root, next, this._prev, 0, this, initial);\r\n\r\n                setTimeout(() => {\r\n                    drawDynamic(this);\r\n                });\r\n\r\n                if (!this._rootElement && rootElement) {\r\n                    this._rootElement = rootElement;\r\n                }\r\n\r\n                this._prev = next;\r\n            },\r\n            enumerable: true\r\n        },\r\n        mount: {\r\n            value: function (template, cfg = {}) {\r\n\r\n                if (this._unmounted) {\r\n                    if (hooks.callBeforeMount(this) === false)\r\n                        return this;\r\n\r\n                    this._unmountedParentNode.appendChild(this._rootElement.parentNode);\r\n                    this._unmounted = false;\r\n                    this._unmountedParentNode = null;\r\n\r\n                    hooks.callMount(this);\r\n\r\n                    Object.keys(this.children).forEach(child => {\r\n                        this.children[child].mount();\r\n                    });\r\n\r\n                    return this;\r\n                } else if (template) {\r\n                    if (this._rootElement.nodeType !== 1) {\r\n                        const newElement = document.createElement(this.tag + TAG.SUFFIX_ROOT);\r\n                        this._rootElement.parentNode.replaceChild(newElement, this._rootElement);\r\n                        this._rootElement = newElement;\r\n                        this._rootElement[CMP_INSTANCE] = this;\r\n                    }\r\n\r\n                    let root = this._rootElement;\r\n\r\n                    if (typeof cfg.selector === 'string')\r\n                        root = root.querySelector(cfg.selector);\r\n                    else if (cfg.selector instanceof HTMLElement)\r\n                        root = cfg.selector;\r\n\r\n                    this._unmounted = false;\r\n                    this._unmountedParentNode = null;\r\n\r\n                    return this.app.mount(template, root, this);\r\n                }\r\n            },\r\n            enumerable: true\r\n        },\r\n        unmount: {\r\n            value: function (onlyInstance = false, byDestroy, silently) {\r\n                if (!onlyInstance && (Boolean(this._unmountedParentNode) || !this._rootElement || !this._rootElement.parentNode || !this._rootElement.parentNode.parentNode)) {\r\n                    return;\r\n                }\r\n\r\n                if (hooks.callBeforeUnmount(this) === false)\r\n                    return false;\r\n\r\n                this._unmountedParentNode = this._rootElement.parentNode.parentNode;\r\n\r\n                if (!onlyInstance) {\r\n                    this._rootElement.parentNode.parentNode.removeChild(this._rootElement.parentNode);\r\n                } else\r\n                    this._rootElement.parentNode.innerHTML = '';\r\n\r\n                this._unmounted = !byDestroy;\r\n\r\n                if (!silently)\r\n                    hooks.callUnmount(this);\r\n\r\n                Object.keys(this.children).forEach(child => {\r\n                    this.children[child].unmount(onlyInstance, byDestroy, silently);\r\n                });\r\n\r\n                return this;\r\n            },\r\n            enumerable: true\r\n        },\r\n        destroy: {\r\n            value: function (onlyInstance) {\r\n\r\n                if (this.unmount(onlyInstance, true) === false)\r\n                    return;\r\n\r\n                if (!onlyInstance && (!this._rootElement || hooks.callBeforeDestroy(this) === false || !this._rootElement.parentNode)) {\r\n                    return;\r\n                }\r\n\r\n                Object.keys(this.children).forEach(child => {\r\n                    this.children[child].destroy();\r\n                });\r\n\r\n                hooks.callDestroy(this);\r\n            },\r\n            enumerable: true\r\n        }\r\n    });\r\n\r\n    // Assign cfg to instance\r\n    extendInstance(instance, cmp.cfg, cfg.dProps);\r\n\r\n    const beforeCreate = hooks.callBeforeCreate(instance);\r\n    if (beforeCreate === false)\r\n        return undefined;\r\n\r\n    // Create observer to props\r\n    observer.create(instance, props);\r\n    // Create shared store\r\n    store.create(instance);\r\n    // Create ID\r\n    ids.create(instance);\r\n    // Add callback to ready queue\r\n    queueReady.add(instance);\r\n    // Call create\r\n    hooks.callCreate(instance);\r\n    //Apply scoped style\r\n    style.scoped(instance);\r\n\r\n    // Now instance is created\r\n    instance._isCreated = true;\r\n\r\n    return instance;\r\n}\r\n\r\nfunction drawDynamic(instance) {\r\n    clearDynamic(instance);\r\n\r\n    let index = instance._processing.length - 1;\r\n\r\n    while (index >= 0) {\r\n        let item = instance._processing[index];\r\n        let root = item.node.parentNode;\r\n\r\n        if (item.node[INSTANCE]) {\r\n            item.node[INSTANCE].destroy(true);\r\n        }\r\n\r\n        if (item.node.innerHTML === '') {\r\n\r\n            const dynamicInstance = require('./instances').get({\r\n                root,\r\n                template: item.node.outerHTML,\r\n                app: instance.app\r\n            });\r\n\r\n            if (dynamicInstance) {\r\n                instance._dynamicChildren.push(dynamicInstance._rootElement.parentNode);\r\n                root.replaceChild(dynamicInstance._rootElement.parentNode, item.node);\r\n                dynamicInstance._rootElement.parentNode[INSTANCE] = dynamicInstance;\r\n                instance._processing.splice(index, 1);\r\n            }\r\n        }\r\n        index -= 1;\r\n    }\r\n}\r\n\r\nfunction clearDynamic(instance) {\r\n    let index = instance._dynamicChildren.length - 1;\r\n\r\n    while (index >= 0) {\r\n        let item = instance._dynamicChildren[index];\r\n\r\n        if (!document.body.contains(item) && item[INSTANCE]) {\r\n            item[INSTANCE].destroy(true);\r\n            instance._dynamicChildren.splice(index, 1);\r\n        }\r\n        index -= 1;\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    create,\r\n    get,\r\n    clearDynamic,\r\n    drawDynamic\r\n};","const extend = require('./utils/extend');\r\nconst bind = require('./utils/bind');\r\nconst instances = require('./component/instances');\r\nconst {TAG, REGEX} = require('./constants');\r\n\r\nclass Doz {\r\n\r\n    constructor(cfg = {}) {\r\n        const template = `<${TAG.APP}></${TAG.APP}>`;\r\n\r\n        if (REGEX.IS_ID_SELECTOR.test(cfg.root)) {\r\n            cfg.root = document.getElementById(cfg.root.substring(1));\r\n        }\r\n\r\n        if (REGEX.IS_ID_SELECTOR.test(cfg.template)) {\r\n            cfg.template = document.getElementById(cfg.template.substring(1));\r\n            cfg.template = cfg.template.innerHTML;\r\n        }\r\n\r\n        if (!(cfg.root instanceof HTMLElement)) {\r\n            throw new TypeError('root must be an HTMLElement or an valid ID selector like #example-root');\r\n        }\r\n\r\n        if (!(cfg.template instanceof HTMLElement || typeof cfg.template === 'string' || typeof cfg.template === 'function')) {\r\n            throw new TypeError('template must be a string or an HTMLElement or a function or an valid ID selector like #example-template');\r\n        }\r\n\r\n        // Remove if already exists\r\n        const appNode = document.querySelector(TAG.APP);\r\n        if (appNode) {\r\n            appNode.parentNode.removeChild(appNode);\r\n        }\r\n\r\n        this.cfg = extend(cfg, {\r\n            components: [],\r\n            actions: {}\r\n        });\r\n\r\n        Object.defineProperties(this, {\r\n            _components: {\r\n                value: {},\r\n                writable: true\r\n            },\r\n            _usedComponents: {\r\n                value: {},\r\n                writable: true\r\n            },\r\n            _stores: {\r\n                value: {},\r\n                writable: true\r\n            },\r\n            _cache: {\r\n                value: new Map()\r\n            },\r\n            _ids: {\r\n                value: {},\r\n                writable: true\r\n            },\r\n            _onAppReadyCB: {\r\n                value: [],\r\n                writable: true\r\n            },\r\n            _callAppReady: {\r\n                value: function () {\r\n                    this._onAppReadyCB.forEach(cb => {\r\n                        if (typeof cb === 'function' && cb._instance) {\r\n                            cb.call(cb._instance);\r\n                        }\r\n                    });\r\n\r\n                    this._onAppReadyCB = [];\r\n                }\r\n            },\r\n            _root: {\r\n                value: this.cfg.root\r\n            },\r\n            action: {\r\n                value: bind(this.cfg.actions, this),\r\n                enumerable: true\r\n            },\r\n            mount: {\r\n                value: function (template, root, parent = this._tree) {\r\n\r\n                    if (typeof root === 'string') {\r\n                        root = document.querySelector(root);\r\n                    }\r\n\r\n                    root = root || parent._rootElement;\r\n\r\n                    if (!(root instanceof HTMLElement)) {\r\n                        throw new TypeError('root must be an HTMLElement or an valid selector like #example-root');\r\n                    }\r\n\r\n                    const autoCmp = {\r\n                        tag: TAG.MOUNT,\r\n                        cfg: {\r\n                            props: {},\r\n                            template() {\r\n                                return `<${TAG.ROOT}>${template}</${TAG.ROOT}>`;\r\n                            }\r\n                        }\r\n                    };\r\n\r\n                    return instances.get({\r\n                        root,\r\n                        template: `<${TAG.MOUNT}></${TAG.MOUNT}>`,\r\n                        app: this,\r\n                        parentCmp: parent,\r\n                        autoCmp,\r\n                        mount: true\r\n                    });\r\n                },\r\n                enumerable: true\r\n            }\r\n        });\r\n\r\n        if (Array.isArray(this.cfg.components)) {\r\n            this.cfg.components.forEach(cmp => {\r\n                if (typeof cmp === 'object' && typeof cmp.tag === 'string' && typeof cmp.cfg === 'object') {\r\n                    this._components[cmp.tag] = cmp;\r\n                }\r\n            });\r\n        } else if (typeof this.cfg.components === 'object'){\r\n            Object.keys(this.cfg.components).forEach(objName => {\r\n                this._components[objName] = {\r\n                    tag: objName,\r\n                    cfg: this.cfg.components[objName]\r\n                }\r\n            });\r\n        }\r\n\r\n        this._components[TAG.APP] = {\r\n            tag: TAG.APP,\r\n            cfg: {\r\n                template: typeof cfg.template === 'function' ? cfg.template : function () {\r\n                    return cfg.template\r\n                }\r\n            }\r\n        };\r\n\r\n        Object.keys(cfg).forEach(p => {\r\n            if(!['template', 'root'].includes(p))\r\n                this._components[TAG.APP].cfg[p] = cfg[p];\r\n        });\r\n\r\n        this._tree = instances.get({root: this.cfg.root, template, app: this}) || [];\r\n        this._callAppReady();\r\n    }\r\n\r\n    getComponent(alias) {\r\n        return this._tree\r\n            ? this._tree.children[alias]\r\n            : undefined;\r\n    }\r\n\r\n    getComponentById(id) {\r\n        return this._ids[id];\r\n    }\r\n\r\n    getStore(store) {\r\n        return this._stores[store];\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = Doz;","const extend = require('../utils/extend');\r\nconst {register} = require('../collection');\r\nconst {REGEX} = require('../constants');\r\n\r\nfunction component(tag, cfg = {}) {\r\n\r\n    if (typeof tag !== 'string') {\r\n        throw new TypeError('Tag must be a string');\r\n    }\r\n\r\n    if (!REGEX.IS_CUSTOM_TAG.test(tag)) {\r\n        throw new TypeError('Tag must contain a dash (-) like my-component');\r\n    }\r\n\r\n    const cmp = {};\r\n\r\n    cmp.tag = tag;\r\n\r\n    cmp.cfg = extend.copy(cfg, {\r\n        autoCreateChildren: true,\r\n        updateChildrenProps: true,\r\n        props: {},\r\n        template() {\r\n            return ''\r\n        }\r\n    });\r\n\r\n    register(cmp);\r\n}\r\n\r\nmodule.exports = component;","module.exports = require('./doz');\r\nmodule.exports.component = require('./component');\r\nmodule.exports.collection = require('./collection');\r\nmodule.exports.update = require('./vdom/index').updateElement;\r\nmodule.exports.transform = require('./vdom/parser').transform;\r\nmodule.exports.html = require('./utils/html');\r\nmodule.exports.version = '[AIV]{version}[/AIV]';","module.exports = require('./src');","import {component} from '../../../../../../../index'\r\nimport style from './style.css'\r\n\r\ncomponent('app-world', {\r\n    template() {\r\n        return `\r\n            <span class=\"${style.myColor}\">\r\n                mondo!\r\n            </span>\r\n        `\r\n    }\r\n});","import {component} from '../../../../../../index'\r\nimport './world'\r\n\r\ncomponent('app-hello', {\r\n    template() {\r\n        return `\r\n            <h1>\r\n                hello <app-world></app-world>\r\n            </h1>\r\n        `\r\n    }\r\n});","import {component} from '../../../../index'\r\nimport './cmp/hello/index'\r\n\r\ncomponent('app-ui', {\r\n    module,\r\n    props: {\r\n        count: 634,\r\n        buttonText: 'click',\r\n        records: [\r\n            {\r\n                value: 'row 1'\r\n            },\r\n            {\r\n                value: 'row 2'\r\n            },\r\n            {\r\n                value: 'row 3'\r\n            }\r\n        ]\r\n    },\r\n    template() {\r\n        return `\r\n            <div>\r\n                <app-hello></app-hello> ${this.props.count}\r\n                <button onclick=\"this.props.count++\">${this.props.buttonText}</button>\r\n                <ul>\r\n                ${this.each(this.props.records, item => `<li>${item.value}</li>`)}\r\n                </ul>\r\n            </div>\r\n        `\r\n    }\r\n});","import Doz from '../../../index'\r\nimport './src/ui'\r\n\r\nnew Doz({\r\n    root: '#app',\r\n    template: `\r\n        <app-ui></app-ui>\r\n    `\r\n});","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}