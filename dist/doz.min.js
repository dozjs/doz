function e(t,n){if("object"!=typeof t||null==t)throw new TypeError("expected an object!");let o=Object.assign({},t),r=Object.keys(t);for(let t=r.length-1;t>=0;--t){let p=o[r[t]];"function"==typeof p?o[r[t]]=p.bind(n):"object"==typeof p&&null!=p&&(o[r[t]]=e(p,n))}return o}const t=/\n/g,n=/\s+/g;let o;const r={create(e,o){let r;e=(e=e.replace(t," ")).replace(n," ");let p=document.createElement("div");return p.innerHTML=e,o&&p.childNodes.length>1?(r=document.createElement(o),r.innerHTML=p.innerHTML):r=p.firstChild||document.createTextNode(""),r},decode:e=>(o=o||document.createElement("div"),o.innerHTML=e,o.textContent)},p="http://www.w3.org/2000/svg",a="dz-root",i="dz-app",s="dz-empty",l="dz-mount",c="dz-slot",d="dz-text-node",u="dz-iterate-node",h={IS_DIRECTIVE:/^d[-:][\w-]+$/,IS_CUSTOM_TAG:/^\w+-[\w-]+$/,IS_CUSTOM_TAG_STRING:/<\w+-[\w-]+/,IS_LISTENER:/^on/,IS_ID_SELECTOR:/^#[\w-_:.]+$/,IS_PARENT_METHOD:/^parent.(.*)/,IS_STRING_QUOTED:/^"\w+"/,IS_SVG:/^svg$/,GET_LISTENER:/^this.(.*)\((.*)\)/,GET_LISTENER_SCOPE:/^scope.(.*)\((.*)\)/,IS_LISTENER_SCOPE:/(^|\()scope[.)]/g,TRIM_QUOTES:/^["'](.*)["']$/,THIS_TARGET:/\B\$this(?!\w)/g,HTML_MARKUP:/<!--[^]*?(?=-->)-->|<(\/?)([a-z][-.0-9_a-z]*)\s*([^>]*?)(\/?)>|<\/>/gi,HTML_ATTRIBUTE:/(^|\s)([\w-:]+)(\s*=\s*("([^"]+)"|'([^']+)'|(\S+)))?/gi,MATCH_NLS:/\n\s+/gm,REPLACE_QUOT:/"/g,REPLACE_D_DIRECTIVE:/^d[-:]/,EXTRACT_STYLE_DISPLAY_PROPERTY:/display(?:\s+)?:(?:\s+)?([\w-]+)/},m="forceupdate";var f={components:{},webComponents:{tags:{},ids:{}},plugins:[],directives:{},directivesKeys:[],directivesMethodsMap:{}};function y(e){const t=e.tag.toUpperCase();Object.prototype.hasOwnProperty.call(f.components,t)&&console.warn("Doz",`component ${t} overwritten`),f.components[t]=e}function _(e){f.plugins.push(e)}function g(e,t={}){if("string"!=typeof e)throw new TypeError("Doz directive name must be a string");if("object"!=typeof t||!t)throw new TypeError("Doz directive config must be an object");":"===e[0]&&(t._onlyDozComponent=!0,e=e.substring(1));let n=[];-1!==(e=e.toLowerCase()).indexOf("-")&&(n=e.split("-"),e=n[0],n.shift()),t.name=e,t._keyArguments=n.map((e=>e.substring(1))),Object.prototype.hasOwnProperty.call(f.directives,e)&&console.warn("Doz",`directive ${e} overwritten`),f.directives[e]=t,f.directivesKeys.includes(e)||f.directivesKeys.push(e);for(let e in t)"function"==typeof t[e]&&"o"===e[0]&&"n"===e[1]&&"A"===e[2]&&"p"===e[3]&&"p"===e[4]&&(t[e].___this___=t,f.directivesMethodsMap[e]?f.directivesMethodsMap[e].push(t[e]):f.directivesMethodsMap[e]=[t[e]])}var C={registerComponent:y,registerPlugin:_,getComponent:function(e){return e=e.toUpperCase(),f.components[e]},registerDirective:g,removeAll:function(){f.components={}},data:f};function A(...e){let t,n=e.shift();for(let n=0;n<e.length;n++)if("function"==typeof e[n]){t=e[n];break}if(f.directivesMethodsMap[n])for(let o=0;o<f.directivesMethodsMap[n].length;o++){let r=f.directivesMethodsMap[n][o],p=r.apply(r.___this___,e);void 0!==p&&t&&t(p)}}var b={callAppInit:function(...e){let t=["onAppInit"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentCreate:function(...e){let t=["onAppComponentCreate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentLoadProps:function(...e){let t=["onAppComponentLoadProps"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentSetConfig:function(...e){let t=["onAppComponentSetConfig"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentSetProps:function(...e){let t=["onAppComponentSetProps"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentDestroy:function(...e){let t=["onAppComponentDestroy"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentAssignIndex:function(...e){let t=["onAppComponentAssignIndex"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentBeforeCreate:function(...e){let t=["onAppComponentBeforeCreate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentConfigCreate:function(...e){let t=["onAppComponentConfigCreate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentBeforeMount:function(...e){let t=["onAppComponentBeforeMount"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentMount:function(...e){let t=["onAppComponentMount"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentBeforeDestroy:function(...e){let t=["onAppComponentBeforeDestroy"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentUnmount:function(...e){let t=["onAppComponentUnmount"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentBeforeUnmount:function(...e){let t=["onAppComponentBeforeUnmount"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentAfterRender:function(...e){let t=["onAppComponentAfterRender"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentDrawByParent:function(...e){let t=["onAppComponentDrawByParent"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentUpdate:function(...e){let t=["onAppComponentUpdate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentBeforeUpdate:function(...e){let t=["onAppComponentBeforeUpdate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentMountAsync:function(...e){let t=["onAppComponentMountAsync"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppWalkDOM:function(...e){let t=["onAppWalkDOM"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentAssignName:function(...e){let t=["onAppComponentAssignName"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppDOMElementCreate:function(...e){let t=["onAppDOMElementCreate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppDynamicInstanceCreate:function(...e){let t=["onAppDynamicInstanceCreate"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentPropsAssignName:function(...e){let t=["onAppComponentPropsAssignName"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentRenderOverwrite:function(...e){let t=["onAppComponentRenderOverwrite"];Array.prototype.push.apply(t,e),A.apply(null,t)},callAppComponentWaitMount:function(...e){let t=["onAppComponentWaitMount"];Array.prototype.push.apply(t,e),A.apply(null,t)}};function w(e){return"d"===e[0]&&("-"===e[1]||":"===e[1])}function v(e){let t=e=e.replace(h.REPLACE_D_DIRECTIVE,""),n=[];return-1!==t.indexOf("-")&&(n=t.split("-"),t=n[0],n.shift()),[t,n]}function E(...e){let t=e[0],n=e[1];e.shift();let o=n._directiveProps||function(e){let t;t=function(e){for(let t in e)return!1;return!0}(e.props)?e._rawProps:e.props,e._directiveProps||(e._directiveProps={});for(let n in t)if(w(n)){let o=n.substring(2);e._directiveProps[o]=t[n]}return e._directiveProps}(n);n._directiveKeys||(n._directiveKeys=Object.keys(o)),n._directiveKeys.forEach((n=>{let r=[],p={},a=n;-1!==n.indexOf("-")&&(r=n.split("-"),n=r[0],r.shift());let i=f.directives[n];if(i&&"function"==typeof i[t]){let n=Object.assign([],e);n.push(o[a]),i._keyArguments.forEach(((e,t)=>p[e]=r[t])),n.push(p),i[t].apply(i,n)}}))}var I={callComponentBeforeCreate:function(...e){let t=["onComponentBeforeCreate"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentCreate:function(...e){let t=["onComponentCreate"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentBeforeMount:function(...e){let t=["onComponentBeforeMount"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentMount:function(...e){let t=["onComponentMount"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentMountAsync:function(...e){let t=["onComponentMountAsync"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentAfterRender:function(...e){let t=["onComponentAfterRender"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentBeforeUpdate:function(...e){let t=["onComponentBeforeUpdate"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentUpdate:function(...e){let t=["onComponentUpdate"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentBeforeUnmount:function(...e){let t=["onComponentBeforeUnmount"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentUnmount:function(...e){let t=["onComponentUnmount"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentBeforeDestroy:function(...e){let t=["onComponentBeforeDestroy"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentDestroy:function(...e){let t=["onComponentDestroy"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentLoadProps:function(...e){let t=["onComponentLoadProps"];Array.prototype.push.apply(t,e),E.apply(null,t)},callComponentDOMElementCreate:function(e,t,n){let o="onComponentDOMElementCreate";if(!t._dozAttach.props)return;let r=Object.keys(t._dozAttach.props);for(let p=0;p<r.length;p++){let a=r[p],i=t._dozAttach.props[r[p]];if(w(a)){let[r,p]=v(a),s=i,l=f.directives[r];l&&l[o]&&l[o].apply(l,[e,t,s,n,p])}}},callComponentDOMElementUpdate:function(e,t){let n="onComponentDOMElementUpdate";if(!t._dozAttach.props)return;let o=Object.keys(t._dozAttach.props);for(let r=0;r<o.length;r++){let p=o[r],a=t._dozAttach.props[o[r]];if(w(p)){let[o,r]=v(p),i=a,s=f.directives[o];s&&s[n]&&s[n].apply(s,[e,t,i,r])}}},callComponentVNodeTick:function(e,t,n){if(!t||!t.props)return;let o="onComponentVNodeTick",r=Object.keys(t.props);for(let p=0;p<r.length;p++){let a=r[p];if(w(a)){let[r,p]=v(a),i=t.props[a],s=f.directives[r];s&&s[o]&&s[o].apply(s,[e,t,n,i,p])}}},callComponentWaitMount:function(...e){let t=["onComponentWaitMount"];Array.prototype.push.apply(t,e),E.apply(null,t)}};var P=Object.assign({directive:function(e,t={}){g(e,t)}},b,I);var z={callBeforeCreate:function(e){if(P.callAppComponentBeforeCreate(e),P.callComponentBeforeCreate(e),"function"==typeof e.onBeforeCreate)return e.onBeforeCreate.call(e)},callCreate:function(e){P.callAppComponentCreate(e),P.callComponentCreate(e),"function"==typeof e.onCreate&&e.onCreate.call(e),e.app.emit("componentCreate",e)},callConfigCreate:function(e){P.callAppComponentConfigCreate(e),"function"==typeof e.onConfigCreate&&e.onConfigCreate.call(e),e.parent&&"function"==typeof e.parent[e.__onConfigCreate]&&e.parent[e.__onConfigCreate].call(e.parent,e),e.app.emit("componentConfigCreate",e)},callBeforeMount:function(e){if(P.callAppComponentBeforeMount(e),P.callComponentBeforeMount(e),"function"==typeof e.onBeforeMount)return e.onBeforeMount.call(e)},callMount:function(e){P.callAppComponentMount(e),P.callComponentMount(e),"function"==typeof e.onMount&&e.onMount.call(e),e.app.emit("componentMount",e)},callMountAsync:function(e){P.callAppComponentMountAsync(e),P.callComponentMountAsync(e),"function"==typeof e.onMountAsync&&e.onMountAsync.call(e),e.app.emit("componentMountAsync",e)},callBeforeUpdate:function(e,t){if(P.callAppComponentBeforeUpdate(e,t),P.callComponentBeforeUpdate(e,t),"function"==typeof e.onBeforeUpdate)return e.onBeforeUpdate.call(e,t)},callUpdate:function(e,t){P.callAppComponentUpdate(e,t),P.callComponentUpdate(e,t),"function"==typeof e.onUpdate&&e.onUpdate.call(e,t),e.app.emit("componentUpdate",e,t)},callDrawByParent:function(e,t,n){if(e)return P.callAppComponentDrawByParent(e,t,n),"function"==typeof e.onDrawByParent?e.onDrawByParent.call(e,t,n):e.parent&&"function"==typeof e.parent[e.__onDrawByParent]?e.parent[e.__onDrawByParent].call(e.parent,e,t,n):void 0},callBeforeUnmount:function(e){if(P.callAppComponentBeforeUnmount(e),P.callComponentBeforeUnmount(e),"function"==typeof e.onBeforeUnmount)return e.onBeforeUnmount.call(e)},callUnmount:function(e){P.callAppComponentUnmount(e),P.callComponentUnmount(e),"function"==typeof e.onUnmount&&e.onUnmount.call(e),e.app.emit("componentUnmount",e)},callBeforeDestroy:function(e){if(P.callAppComponentBeforeDestroy(e),P.callComponentBeforeDestroy(e),"function"==typeof e.onBeforeDestroy)return e.onBeforeDestroy.call(e)},callDestroy:function(e){P.callAppComponentDestroy(e),P.callComponentDestroy(e),e.app.emit("componentDestroy",e);const t=document.getElementById(e.uId+"--style"),n=document.getElementById(e.uId+"--style-reset");t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n),e._unmountedPlaceholder&&e._unmountedPlaceholder.parentNode&&e._unmountedPlaceholder.parentNode.removeChild(e._unmountedPlaceholder),"function"==typeof e.onDestroy&&(e.onDestroy.call(e),e=null)},callLoadProps:function(e){P.callAppComponentLoadProps(e),P.callComponentLoadProps(e),"function"==typeof e.onLoadProps&&e.onLoadProps.call(e),e.app.emit("componentLoadProps",e)},callWaitMount:function(e){P.callAppComponentWaitMount(e),P.callComponentWaitMount(e),"function"==typeof e.onWaitMount&&e.onWaitMount.call(e),e.app.emit("componentWaitMount",e)}};function M(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))}const B=new Map,k=Object.create(null),T=new Map;var R={kCache:B,tplCache:k,hCache:T};const S=new RegExp(`</?(${d}|${u})?>$`),O={meta:!0,img:!0,link:!0,input:!0,area:!0,br:!0,hr:!0},D={li:{li:!0},p:{p:!0,div:!0},td:{td:!0,th:!0},th:{td:!0,th:!0}},L={li:{ul:!0,ol:!0},a:{div:!0},b:{div:!0},i:{div:!0},p:{div:!0},td:{tr:!0,table:!0},th:{tr:!0,table:!0}};function j(e){return e[e.length-1]}class N{constructor(e,t,n,o,r){this.type=e,this.props=t,this.children=[],o&&(this.style=o),r&&(this.styleScoped=r),(n||"svg"===e)&&(this.isSVG=!0),void 0!==t.key&&(this.key=t.key)}appendChild(e){return e.props&&void 0!==e.props.key&&(this.hasKeys=!0),this.children.push(e),e}}function x(e){if(!e)return"";if(k[e])return k[e];const t=new N(null,{}),n=[t];let o,r,p=t,i=-1;for(;o=h.HTML_MARKUP.exec(e);){if(i>-1&&i+o[0].length<h.HTML_MARKUP.lastIndex){let t=e.substring(i,h.HTML_MARKUP.lastIndex-o[0].length).replace(h.MATCH_NLS,"");t&&("style"===p.type&&void 0!==p.props["data-is-webcomponent"]&&(t=t.replace(/:(component|wrapper|root)/g,":host")),!0===p.style?p.style=t:(" e-0_"===t.substr(0,5)&&(t=t.trim()),p.appendChild(t)))}if(i=h.HTML_MARKUP.lastIndex,"!"!==o[0][1]){if("</>"===o[0]){let e=j(n).type;e&&(o[0]=`</${e}>`,o[1]="/",o[2]=e)}if(!S.test(o[0])){if(o[3]&&o[3].startsWith("...")&&(o[3]=o[3].replace("...",'__spreadprops="')+'"'),"slot"===o[2]&&(o[2]=c),!o[1]&&o[0]){r={};for(let e;e=h.HTML_ATTRIBUTE.exec(o[3]);)r[e[2]]=e[5]||e[6]||"",U(o[0].substring(1,o[0].length-1),e[2],r[e[2]],r);if(!o[4]&&D[p.type]&&D[p.type][o[2]]&&(n.pop(),p=j(n)),"style"===o[2]&&void 0===r["data-is-webcomponent"]){p.style=!0,""===r["data-scoped"]&&(p.styleScoped=!0);continue}p=p.appendChild(new N(o[2],r,p.isSVG)),n.push(p)}if(o[1]||o[4]||O[o[2]])for(;;){if(p.type===o[2]){n.pop(),p=j(n);break}if(!L[p.type]||!L[p.type][o[2]])break;n.pop(),p=j(n)}}}}if(t.style&&"object"==typeof t.children[0]&&(t.children[0].style=t.style,t.children[0].styleScoped=t.styleScoped),t.children.length>1)t.type=a;else if(t.children.length)return k[e]=t.children[0],t.children[0];return k[e]=t,t}function U(e,t,n,o){"string"==typeof n&&h.IS_STRING_QUOTED.test(n)&&(n=n.replace(h.REPLACE_QUOT,"&quot;"));let r=w(t);o[h.IS_CUSTOM_TAG.test(e)&&!r?M(t):t]=t===m||n}let $=window.setTimeout.bind(window);window.requestAnimationFrame&&($=window.requestAnimationFrame.bind(window));var H=$;var W={encode:function(e){return"string"==typeof e?e.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&grave;"):e},decode:function(e){return"string"==typeof e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&grave;/g,"`"):e}};const V=function(){let e=[],t=[],n=[],o=null,r=function(p,a,i,s){let l=null==a,c=i||null,d=s||"",u=[],h=function(e,t){return e instanceof Array?""!==d?d:t:""!==d?d+"."+t:t},m=0,f=function(e){if(!0!==c.paused)if(l&&(a=++m>1,H((function(){m=0}))),!0===a)H((function(){if(e===u.length){for(let e=0;e<c.observers.length;e++)c.observers[e](u);u=[]}}));else{for(let e=0;e<c.observers.length;e++)c.observers[e](u);u=[]}},y={get:function(e,t){if("__getTarget"===t)return e;if("__isProxy"===t)return!0;if("__getParent"===t)return function(t){void 0===t&&(t=1);let n=h(e,"__getParent").split(".");return n.splice(-(t+1),t+1),function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e||self)}(c.parentProxy,n.join("."))};if("__getPath"===t){return h(e,"__getParent").slice(0,-12)}if("prototype"===t)return e[t];let n=e[t];if(e instanceof Date&&n instanceof Function)return n.bind(e);if(n instanceof Object&&e.hasOwnProperty(t)){!0===n.__isProxy&&(n=n.__getTarget);let e=-1,o=c.targets;for(let t=0,r=o.length;t<r;t++)if(n===o[t]){e=t;break}return e>-1?c.proxies[e]:r(n,a,c,""!==d?d+"."+t:t)}{let e=c.renderMode?W.encode(n):n,o=c.manipulate;return"function"==typeof o&&(e=o(e,t,!0)),e}},deleteProperty:function(e,r){let p=!0;o===_&&(p=!1,o=null);let a=Object.assign({},e),i=h(e,r);if(!c.paused){if(u.push({type:"delete",target:e,property:r,newValue:null,previousValue:a[r],currentPath:i,proxy:_}),"function"==typeof c.beforeChange&&c.checkBeforeChange!==i){if(c.checkBeforeChange=i,!1===c.beforeChange(u))return c.checkBeforeChange="",!0}c.checkBeforeChange=""}if(!0===p){let p,a;for(p=0,a=t.length;p<a&&e!==t[p];p++);let i=n[p]||[],s=i.length;for(;s--;)i[s].proxy!==_&&(o=i[s].proxy,delete i[s].proxy[r]);delete e[r]}return f(u.length),!0},set:function(e,r,p,a){let i=!0;o===_&&(i=!1,o=null);let s=e[r];if(s!==p||!1===i){let l=typeof s,d=h(e,r),m="update";"undefined"===l&&(m="add");let y=c.manipulate;if("function"==typeof y&&(p=y(p,d,!1)),!c.paused){if(u.push({type:m,target:e,property:r,newValue:p,previousValue:a[r],currentPath:d,proxy:_}),"function"==typeof c.beforeChange&&c.checkBeforeChange!==d){if(c.checkBeforeChange=d,!1===c.beforeChange(u))return c.checkBeforeChange="",!0}c.checkBeforeChange=""}if(!0===i){let a,i;for(a=0,i=t.length;a<i&&e!==t[a];a++);let s=n[a];if(s)for(let e=0,t=s.length;e<t;e++)s[e].proxy!==_&&(o=s[e].proxy,s[e].proxy[r]=p);e[r]=p,p instanceof Object&&null!==p&&function e(t){let n=t.__getTarget,o=Object.keys(n);for(let r=0,p=o.length;r<p;r++){let p=o[r];n[p]instanceof Object&&null!==n[p]&&e(t[p])}}(_[r])}f(u.length)}return!0}},_=new Proxy(p,y);null===c?(c={parentTarget:p,domDelay:a,parentProxy:_,observers:[],targets:[p],proxies:[_],path:d},e.push(c)):(c.targets.push(p),c.proxies.push(_));let g={target:p,proxy:_,observable:c},C=-1;for(let e=0,n=t.length;e<n;e++)if(p===t[e]){C=e;break}return C>-1?n[C].push(g):(t.push(p),n.push([g])),_};return{create:function(e,t,n,o){!0===e.__isProxy&&(e=e.__getTarget);let p=r(e,t);return"function"==typeof n&&this.observe(p,n),function e(t){let n=t.__getTarget,r=Object.keys(n);for(let p=0,a=r.length;p<a;p++){let a=r[p];"function"==typeof o&&o(n,a),n[a]instanceof Object&&null!==n[a]&&e(t[a])}}(p),p},observe:function(t,n){let o=e.length;for(;o--;)if(e[o].parentProxy===t){e[o].observers.push(n);break}},remove:function(o){let r=null,p=!1,a=e.length;for(;a--;)if(e[a].parentProxy===o){r=e[a],p=!0;break}let i=n.length;for(;i--;){let e=n[i].length;for(;e--;)n[i][e].observable===r&&(n[i].splice(e,1),0===n[i].length&&(t[i]=null))}!0===p&&e.splice(a,1)},manipulate:function(t,n){if("function"!=typeof n)throw new Error("callback is required");let o=e.length;for(;o--;)if(e[o].parentProxy===t){e[o].manipulate=n;break}},beforeChange:function(t,n){if("function"!=typeof n)throw new Error("callback is required");let o=e.length;for(;o--;)if(e[o].parentProxy===t){e[o].beforeChange=n;break}},beginRender:function(t){let n=e.length;for(;n--;)if(e[n].parentProxy===t){e[n].renderMode=!0;break}},endRender:function(t){let n=e.length;for(;n--;)if(e[n].parentProxy===t){e[n].renderMode=!1;break}},pause:function(t){let n=e.length;for(;n--;)if(e[n].parentProxy===t){e[n].paused=!0;break}},resume:function(t){let n=e.length;for(;n--;)if(e[n].parentProxy===t){e[n].paused=!1;break}}}}();const F={string:e=>"string"==typeof e?e:JSON.stringify(e),number:e=>"number"==typeof e?e:Number(e),boolean:e=>"boolean"==typeof e?e:"true"===e||1===e||"false"!==e&&0!==e&&!!e,object(e){if("object"==typeof e&&e)return e;try{return JSON.parse(e)}catch(t){return e}},array(e){return this.object(e)},date:e=>e instanceof Date?e:new Date(e)};function q(e,t,n,o,r){if("object"==typeof e.propsType){const o=e.propsType[n];void 0!==o&&(t=function(e,t){return void 0!==F[t]&&(e=F[t](e)),e}(t,o))}if(r&&(o=e.propsConvertOnFly),e.propsConvert&&e.propsConvertOnFly===o&&"object"==typeof e.propsConvert){const o=e.propsConvert[n],r=e[o]||o;if("function"==typeof r)return r.call(e,t)}if(r&&(o=e.propsComputedOnFly),e.propsComputed&&e.propsComputedOnFly===o&&"object"==typeof e.propsComputed){let o=e._computedCache.get(n);if(void 0===o)o=new Map,e._computedCache.set(n,o);else{const e=o.get(t);if(void 0!==e)return e}const r=e.propsComputed[n],p=e[r]||r;if("function"==typeof p){const n=p.call(e,t);return o.set(t,n),n}}return t}function K(e,t){z.callUpdate(e,t),function(e,t){if("object"==typeof e.propsListener)for(let n=0;n<t.length;n++){const o=t[n],r=e.propsListener[o.currentPath];if("update"===o.type&&r){const t=e[r]||r;"function"==typeof t&&t.call(e,o.newValue,o.previousValue)}}if("object"==typeof e.propsListenerAsync)for(let n=0;n<t.length;n++){const o=t[n],r=e.propsListenerAsync[o.currentPath];if("update"===o.type&&r){const t=e[r]||r;"function"==typeof t&&function(n){H((()=>t.call(e,n.newValue,n.previousValue)))}(o)}}}(e,t),e.render(void 0,t)}var G={create:function(e){let t=!1;e._props&&e._props.__isProxy&&(V.remove(e._props),t=!0),e._props=V.create(e._rawProps,!0,(t=>{e._isRendered&&(e.delayUpdate?setTimeout((()=>{K(e,t)}),e.delayUpdate):K(e,t))}),((t,n)=>{t[n]=q(e,t[n],n)})),V.manipulate(e._props,((t,n,o)=>q(e,t,n,o))),V.beforeChange(e._props,(t=>{if(!1===z.callBeforeUpdate(e,t))return!1})),t&&e._isRendered&&e.render()}},Y=function(e){e&&!e._dozAttach&&(e._dozAttach={})},Q=["async","autocomplete","autofocus","autoplay","border","challenge","checked","compact","contenteditable","controls","default","defer","disabled","formNoValidate","frameborder","hidden","indeterminate","ismap","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","readonly","required","reversed","scoped","scrolling","seamless","selected","sortable","spellcheck","translate"];function Z(e){return"string"==typeof(t=e)&&"o"===t[0]&&"n"===t[1];var t}function X(e,t,n,o,r,p){if("data-attributeoriginaletagname"===t)return;if(Y(e),e._dozAttach.props||(e._dozAttach.props={}),e._dozAttach.props[t]=n,"key"===t)return void(void 0===e._dozAttach.key&&(e._dozAttach.key=n));let a=w(t);a&&(e._dozAttach.hasDirective=!0),(-1===e.tagName.indexOf("-")||o.exposeAttributes.includes(t)||t.startsWith("data-"))&&(!function(e){return Z(e)||e===m}(t)&&"function"!=typeof n&&"object"!=typeof n||a)&&(void 0===n&&(n=""),"class"!==t||p?void 0===e[t]||p?(t.startsWith("data-")||t.startsWith("aria-")||"role"===t||"for"===t||p||o&&o.app&&o.app.setAllAttributes||window.SSR&&!t.startsWith("d-"))&&e.setAttribute(t,n):(""===n&&Q.indexOf(t)>-1&&(n=!0),e[t]=n):e.className=n)}function J(e,t,n,o,r,p,a){X(e,t,n,r,0,a),r.$$afterAttributeUpdate(e,t,n)}function ee(e,t,n={},o,r,p){const a=Object.assign({},t,n);let i,s=[],l=Object.keys(a);for(let r=0;r<l.length;r++)if(i=l[r],e&&1===e.nodeType&&t[i]!==n[i]){J(e,i,t[i],n[i],o,0,p);let r={};r[i]=t[i],s.push(r)}return s}function te(e){return e.slice(2).toLowerCase()}function ne(e,t,n,o,r){if(!Z(t))return;let p=!1;"function"==typeof n&&(p=!0),"function"==typeof n&&(p?e.addEventListener(te(t),n.bind(o)):e.addEventListener(te(t),n))}function oe(e){return/&\w+;/.test(e)?r.decode(e):e}function re(e,t,n){if("string"!=typeof e)return;let o=t.replace(/[^\w]/g,"");return/:root/.test(e)&&console.warn("[DEPRECATION] the :root pseudo selector is deprecated, use :component or :wrapper instead"),e=(e=e.replace(/{/g,"{\n").replace(/}/g,"}\n").replace(/^(\s+)?:(component|wrapper|root)(\s+)?{/gm,t+" {").replace(/:(component|wrapper|root)/g,"").replace(/(@(?:[\w-]+-)?keyframes\s+)([\w-_]+)/g,`$1 ${o}-$2`).replace(/((?:[\w-]+-)?animation(?:-name)?(?:\s+)?:(?:\s+))([\w-_]+)/g,`$1 ${o}-$2`).replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"").replace(/[^\s].*{/gm,(e=>{if(/^(@|:host|(from|to|\d+%)[^-_])/.test(e))return e;let n=e.split(",");const o=new RegExp(`^${t.replace(/[[\]]/g,"\\$&")}(\\s+)?{`);for(let e=0;e<n.length;e++)n[e]=n[e].trim(),o.test(n[e])||(/^:global/.test(n[e])?n[e]=n[e].replace(":global",""):n[e]=`${t} ${n[e]}`);return e=n.join(",")}))).replace(/\s{2,}/g," ").replace(/{ /g,"{").replace(/ }/g,"}").replace(/\s:/g,":").replace(/\n/g,"").trim()}var pe=["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video","wbr"];function ae(e,t,n,o,r){if("string"==typeof e)return function(e,t,n,o,r){let p;const a=`${t}--style`,s=`${t}--style-reset`;let l;if(l=r&&r.app.useShadowRoot?r.app._root.getElementById(a):document.getElementById(a),l)p=l.innerHTML=e;else{if(o){let e=`${n}, ${n} *,`;e+=pe.map((e=>`${n} ${e}`)).join(","),e+=" {all: initial}";const t=document.createElement("style");if(t.id=s,t.innerHTML=e,r&&r.app.useShadowRoot){let e=r.app._root.querySelector(i);r.app._root.insertBefore(t,e)}else document.head.appendChild(t)}const t=document.createElement("style");if(t.id=a,p=t.innerHTML=e,r&&r.app.useShadowRoot){let e=r.app._root.querySelector(i);r.app._root.insertBefore(t,e)}else document.head.appendChild(t)}return p}(e=re(e,n),t,n,o,r)}const ie=Object.create(null),se=[];function le(e,t,n,o){if("dz-suspend"===e.type)return;if(void 0===e||Array.isArray(e)&&0===e.length)return;let r,a,i;if("object"!=typeof e)return document.createTextNode(oe(e));if(t.app.hydIdUsedCounter<t.app.hydIdCounter&&(i=t.app.hydMap.get(t.app.hydIdUsedCounter++)),i)a=i,t.hydrated=!0;else{if(e&&null!=e.type&&"#"!==e.type[0]||(e={type:s,props:{},children:[]}),e.props&&e.props.slot&&!e.isNewSlotEl)return document.createComment(`slot(${e.props.slot})`);r=ie[e.type],r?a=r.cloneNode():(a=e.isSVG?document.createElementNS(p,e.type):document.createElement(e.type),ie[e.type]=a.cloneNode(!0))}if(function(e,t,n,o,r){let p;const a=Object.keys(t);for(let o=0,i=a.length;o<i;o++)p=a[o],ne(e,p,t[p],n),X(e,p,t[p],n,0,r),n&&n.app&&n.app.emit&&n.app.emit("elementAttributesAttach",e,p,t[p],n)}(a,e.props,t,0,e.isSVG),!e.hasKeys)if(e.children.length)if(1===e.children.length&&"string"==typeof e.children[0])a.textContent=oe(e.children[0]);else if(void 0!==e.props.suspendcontent||void 0!==t.props.suspendcontent||t.suspendContent)t.suspendedNodes.push(e);else for(let r=0;r<e.children.length;r++){if(i&&"object"!=typeof e.children[r])continue;let p=le(e.children[r],t,n,o);p&&a.appendChild(p)}else;return Y(a),a._dozAttach.injected=e.injected,a._dozAttach.elementChildren=e.children,a._dozAttach.originalTagName=e.props["data-attributeoriginaletagname"],t.$$afterNodeElementCreate(a,e,n,t),e.style&&ce(e,t),a}function ce(e,t){t.__hasStyle=!0;let n=e.styleScoped;const o=t.uId;let r=`[data-uid="${o}"]`;ae(e.style,o,r,n,t)}function de(e,t,n,o=0,r,p,a){if(r.app.hydration&&!r.hydrationRestored&&t&&n&&t.children&&n.children&&e.childNodes[o]&&e.childNodes[o].childNodes.length<t.children.length)return console.error("There is not match between virtual nodes and child nodes for element ",e.childNodes[o]),console.error(e.childNodes[o].childNodes,t.children),console.error("I'm trying to restore it"),e.childNodes[o].innerHTML="",t.children.forEach((t=>{let n=le(t,r,p,e._dozAttach.componentInstance||a);e.childNodes[o].appendChild(n)})),void(r.hydrationRestored=!0);if(e&&(t!==n||r.tag===l)){if(r&&r.app&&r.app.onVdomUpdateElement){let o=r.app.onVdomUpdateElement(e,t,n,r,p,a);o&&(e=o.$parent||e,t=o.newNode||t,n=o.oldNode||n,r=o.cmp||r)}if(t&&t.cmp&&(r=t.cmp),t&&n&&t.style!==n.style&&ce(t,r),a&&e._dozAttach.componentInstance){let o=z.callDrawByParent(e._dozAttach.componentInstance,t,n);null!=o&&"object"==typeof o&&(t=o.newNode||t,n=o.oldNode||n);let i=!(!t||!t.props)&&t.props.slot;if(e._dozAttach.componentInstance._defaultSlot&&!i&&(i="__default__"),"object"==typeof t&&i&&e._dozAttach.componentInstance._slots[i])return void e._dozAttach.componentInstance._slots[i].forEach((o=>{if(o.parentNode){t.isNewSlotEl=!0;let n=le(t,r,p,e._dozAttach.componentInstance||a);n.removeAttribute("slot"),o.parentNode.replaceChild(n,o),o.__newSlotEl=n}else{let i=Array.from(o.__newSlotEl.parentNode.children).indexOf(o.__newSlotEl);de(o.__newSlotEl.parentNode,t,n,i,r,p,e._dozAttach.componentInstance||a)}}))}if(t&&t.props&&t.props["data-follow"]){let n=document.querySelector(`[data-follow="${t.props["data-follow"]}"]`);n&&n.parentElement&&(e=n.parentElement,Y(e))}if(!n){let n;if(e.childNodes.length){let o=e.childNodes[e.childNodes.length-1];if(Y(o),o._dozAttach.componentRootInstance)return n=le(t,r,p,e._dozAttach.componentInstance||a),e.insertBefore(n,o),n}return Y(e),n=le(t,r,p,e._dozAttach.componentInstance||a),e.appendChild(n),n}if(t){if(typeof(i=t)!=typeof(s=n)||"string"==typeof i&&i!==s||i.type!==s.type||i.props&&i.props.forceupdate){let i=e.childNodes[o];if(!i){if(!r.app.hydration||r.hydrationRestored)return;i=le(n,r,p,e._dozAttach.componentInstance||a),e.appendChild(i),console.error("$oldElement not found. It was restored."),r.hydrationRestored=!0}const s=r.$$beforeNodeChange(e,i,t,n);if(s)return s;const l=le(t,r,p,e._dozAttach.componentInstance||a);return e.replaceChild(l,i),r.$$afterNodeChange(l,i),i._dozAttach&&i._dozAttach.componentInstance&&(i._dozAttach.componentInstance.unmount(),i._dozAttach.componentInstance.destroy()),l}if(void 0!==t.hasKeys||void 0!==n.hasKeys){let i=e.childNodes[o],s=t.children.map((e=>e.key)),l=n.children.map((e=>e.key));void 0===i._dozAttach.keyList&&(i._dozAttach.keyList=new Map);let c=l.filter((e=>!s.includes(e)));for(let e=0;e<c.length;e++)if(i._dozAttach.keyList.has(c[e])){let t=i._dozAttach.keyList.get(c[e]);t._dozAttach.componentInstance?t._dozAttach.componentInstance.destroy():i.removeChild(t),i._dozAttach.keyList.delete(c[e]),r.app.cacheStores.kCache.delete(c[e])}c.length&&(l=l.filter((e=>!~c.indexOf(e))));let d=[],u=[],h=Object.create(null);for(let n=0;n<s.length;n++){s[n]!==l[n]&&(u.push(n),h[n]=!0);let o=s[n],c=i._dozAttach.keyList.get(o);if(c){let t=r.app.cacheStores.kCache.get(o),n=t.next,i=t.prev;n.children||(n.children=[]),i.children||(i.children=[]),d.push(c),t.isChanged&&ee(c,n.props,i.props,r,e._dozAttach.componentInstance,n.isSVG);const s=n.children.length,l=i.children.length;for(let t=0;t<s||t<l;t++)void 0!==n.children[t]&&void 0!==i.children[t]&&de(c,n.children[t],i.children[t],t,r,p,e._dozAttach.componentInstance||a)}else{let s=le(t.children[n],r,p,e._dozAttach.componentInstance||a);i._dozAttach.keyList.set(o,s),d.push(s)}}if(void 0===u[0])return;if(i.childNodes.length===u[0]){for(let e=0;e<d.length;e++)i.appendChild(d[e]);return}let m,f,y=!0,_=0,g=d.length-1;for(;_<=g;)y?(m=i.childNodes[_],f=d[_],h[_]&&Array.prototype.indexOf.call(i.childNodes,f)!==_&&(i.insertBefore(f,m),y=!1),_++):(m=i.childNodes[g],f=d[g],h[g]&&Array.prototype.indexOf.call(i.childNodes,f)!==g&&(m?i.insertBefore(f,m.nextSibling):(i.appendChild(f),g++),y=!0),g--)}else if(t.type){if(e._dozAttach.componentInstance===r&&e.childNodes.length){let t=e.childNodes.length-1;e.childNodes[t]._dozAttach&&e.childNodes[t]._dozAttach.componentRootInstance&&(o+=t)}let i=ee(e.childNodes[o],t.props,n.props,r,e._dozAttach.componentInstance,t.isSVG);if(r.$$beforeNodeWalk(e,o,i))return;const s=t.children.length,l=n.children.length;for(let i=0;i<s||i<l;i++)de(e.childNodes[o],t.children[i],n.children[i],i,r,p,e._dozAttach.componentInstance||a);!function(){let e=se.length;for(;e--;)se[e].parentNode.removeChild(se[e]),se[e]._dozAttach&&se[e]._dozAttach.componentInstance&&(se[e]._dozAttach.componentInstance.unmount(),se[e]._dozAttach.componentInstance.destroy()),se.splice(e,1)}()}}else e.childNodes[o]&&se.push(e.childNodes[o]);var i,s}}const ue=de;function he(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}var me={add:function(e){let t=e.__proto__;"function"==typeof e.onAppReady?(e.onAppReady._instance=e,e.app._onAppReadyCB.push(e.onAppReady)):t&&t.constructor&&t.constructor.__postListeners&&t.constructor.__postListeners.onAppReady&&(t.constructor.__postListeners.onAppReady._instance=e,e.app._onAppReadyCB.push(t.constructor.__postListeners.onAppReady))}};var fe={add:function(e){"function"==typeof e.onAppDraw&&(e.onAppDraw._instance=e,e.app._onAppDrawCB.push(e.onAppDraw))},emit:function(e,t,n){e.app._onAppDrawCB.forEach((o=>{"function"==typeof o&&o._instance&&o.call(o._instance,t,n,e)}))}};function ye(e){if("object"!=typeof e||null===e)return e;let t,n;if(Array.isArray(e)){let o;for(t=[],n=0,o=e.length;n<o;n++)t[n]=ye(e[n]);return t}for(n in t={},e)e.hasOwnProperty(n)&&(t[n]=ye(e[n]));return t}const _e=d,ge=/e-0_(\d+)_0-e/g,Ce=/e-0_(\d+)_0-e/;function Ae(e,t){if("string"!=typeof e)return e;if("e"===e[0]&&"-"===e[1]){let n=Ce.exec(e);return n?"0"===n[1][0]&&n[1].length>=2?t[n[1].substring(1)]+"":t[n[1]]:e}return e.replace(ge,((e,n)=>n?t[n]:e))}function be(e,t,n,o){let r=Object.keys(e);if(e.__spreadprops){for(let n in t[0])e[n]=t[0][n];delete e.__spreadprops}for(let p=0;p<r.length;p++)if(e[r[p]]&&"object"==typeof e[r[p]])be(e[r[p]],t,e,o);else{let i=Ae(e[r[p]],t);if("type"===r[p]&&"string"!=typeof i){let t=i||{},n=he(t.tag||t.name||a);n=n.replace(/_+/,""),-1===n.indexOf("-")&&(n=`${n}-${n}`);let r=n+"-"+o.uId+"-"+o._localComponentLastId++;o._componentsMap.has(i)?r=o._componentsMap.get(i):o._componentsMap.set(i,r),void 0===o._components[r]&&(o._components[r]={tag:n,cfg:t}),void 0===o.app._components[r]&&(o.app._components[r]={tag:n,cfg:t}),i=n,e.props["data-attributeoriginaletagname"]=r,t.suspendContent&&(e.props.suspendcontent=!0,e.props.suspendcontent_by_parent=!0)}Array.isArray(i)&&"0"===r[p]?(n.children=i,i[0]&&void 0!==i[0].key&&(n.hasKeys=!0)):(""===i&&"0"===r[p]&&(i=" "),e[r[p]]=i)}}var we=function(e,...t){let n,o,r;this&&this.app?(n=this.app.cacheStores.hCache,o=this.app.cacheStores.kCache,r=this.app.isWebComponent&&this._mainComponentByAppCreate):(n=R.hCache,o=R.kCache);let p,a=n.get(e);if(!a){a=e[0];let o=!1,p=!1,i=!1,s=t.length;for(let n=0;n<s;++n){let s=e[n],l=s.length,c=s[l-1];for(let e=0;e<l;e++)"<"===s[e]?o=!1:">"===s[e]&&(o=!0);s.indexOf("<style")>-1&&(p=!0,i=!0),s.indexOf("</style")>-1&&(p=!1),i&&r&&(a=a.replace(/<style>/,"<style data-is-webcomponent>")),p&&(o=!1,a=a.replace(/ scoped>/," data-scoped>")),o?"object"==typeof t[n]||"function"==typeof t[n]?a+=`e-0_${n}_0-e${e[n+1]}`:(""===t[n]&&(t[n]=" "),/<.*>/.test(t[n])?a+=`${t[n]}${e[n+1]}`:a+=`<${_e}>e-0_0${n}_0-e</${_e}>${e[n+1]}`):a+="/"===c?e[n+1]:`e-0_${n}_0-e${e[n+1]}`}a=a.trim(),n.set(e,a)}let i,s=x(a);if(s.props.forceupdate&&n.delete(e),void 0===s.key&&void 0===s.props["item-list"]||(i=function(e){let t="";for(let n=0;n<e.length;n++)"function"!=typeof e[n]&&"object"!=typeof e[n]&&(t+=e[n]);return t}(t),p=i?n.get(i):void 0),p||(p=ye(s),be(p,t,null,this),i&&n.set(i,p)),void 0!==s.key){let e=o.get(p.key);e?o.set(p.key,{isChanged:i!==e.clonedKey,clonedKey:i,next:p,prev:e.next}):o.set(p.key,{isChanged:!0,clonedKey:i,next:p,prev:{}})}return p};function ve(e){Array.isArray(e.components)?(e.components.forEach((t=>{"object"==typeof t&&"string"==typeof t.tag&&"object"==typeof t.cfg&&(e._components[t.tag]=t)})),delete e.components):"object"==typeof e.components&&(Object.keys(e.components).forEach((t=>{e._components[t]={tag:t,cfg:e.components[t]}})),delete e.components)}function Ee(e,t=[]){if("object"!=typeof e||null==e)throw new TypeError("expected an object");Array.isArray(t)||(t=[t]);for(let n=t.length-1;n>=0;--n){let o=Object.keys(t[n]);for(let r=o.length-1;r>=0;--r){let p=o[r];void 0===e[p]?e[p]=t[n][p]:console.warn("Doz",`mixin failed for already defined property: ${p}`)}}return e}function Ie(e){Ee(e,e.mixin),e.mixin=[]}function Pe(e,t){let n=Object.keys(t);for(let o=0,r=n.length;o<r;o++){let r=n[o];t[r]instanceof Object&&null!==t[r]?Pe(e,t[r]):t[r]=q(e,t[r],r,!1,!0)}}function ze(e){Pe(e,e._rawProps)}function Me(e,t){let n=e.app.createInstance({root:null,template:t,app:e.app,parent:e});n&&n._rootElement&&(n._rootElement.parentNode._dozAttach.componentDynamicInstance=n)}class Be{constructor(e={}){var t,n,o;e.cmp=e.cmp||{tag:e.tag,cfg:{}},e.app=e.app||{},this._opt=e,this._cfgRoot=e.root,this._publicProps=e.props,this._isRendered=!1,this._prev=null,this._rootElement=null,this._parentElement=null,this._components={},this._processing=[],this._dynamicChildren=[],this._unmounted=!1,this._unmountedParentNode=null,this._configured=!1,this._props={},this._directiveProps=null,this._computedCache=new Map,this._renderPause=!1,this._hasSlots=!1,this._slots={},this._defaultSlot=null,this._localComponentLastId=0,this._componentsMap=new Map,this.tag=e.cmp.tag,this.cmpName=e.cmpName,this.app=e.app,this.exposeAttributes=["style","class"],this.parent=e.parentCmp,this.appRoot=e.app._root,this.action=e.app.action,this.shared=e.app.shared,this._childrenInc=0,this._injectCount=0,this.children={},this.childrenByTag={},this.rawChildren=[],this.rawChildrenVnode=[],this.injectTemplates=new Map,this.updateChildrenProps=!0,this.mixin=[],this.propsConvertOnFly=!1,this.propsComputedOnFly=!1,this.delayUpdate=0,this.hydrated=!1,this.suspendContent=!1,this.suspendedNodes=[],this.lockRemoveInstanceByCallback=null,this.waitMount=!1,this._isSubclass=this.__proto__.constructor!==Be,this.uId=this.app.generateUId(),this.h=we.bind(this),this._initRawProps(e),t=this,n=e.cmp.cfg,Object.assign(t,n,o),Ie(this),ve(this);!1!==z.callBeforeCreate(this)?(G.create(this,!0),me.add(this),fe.add(this),z.callCreate(this),this.app.componentsById&&!this.app.componentsById[this.uId]&&(this.app.componentsById[this.uId]={instance:this})):this.__beforeCreateReturnsFalse=!0}set props(e){"function"==typeof e&&(e=e()),this._rawProps=Object.assign({},e,this._opt?this._opt.props:{}),G.create(this),P.callAppComponentSetProps(this),this.app.emit("componentSetProps",this)}get props(){return this._props}loadProps(e){if("object"!=typeof e)throw new TypeError("Props must be an object");this._rawProps=Object.assign({},e),ze(this),G.create(this),z.callLoadProps(this)}set config(e){if(!this._isSubclass)throw new Error("Config is allowed only for classes");if(this._configured)throw new Error("Already configured");if("object"!=typeof e)throw new TypeError("Config must be an object");P.callAppComponentSetConfig(this,e),"object"==typeof e.mixin&&(this.mixin=e.mixin,Ie(this)),"object"==typeof e.components&&(this.components=e.components,ve(this)),"boolean"==typeof e.updateChildrenProps&&(this.updateChildrenProps=e.updateChildrenProps),this._configured=!0,z.callConfigCreate(this)}getHTMLElement(){return this._parentElement}beginSafeRender(){V.beginRender(this.props)}endSafeRender(){V.endRender(this.props)}each(e,t,n=!1){let o;return Array.isArray(e)&&(n&&this.beginSafeRender(),o=e.map(t),n&&this.endSafeRender()),o}toStyle(e,t=!0){return function(e,t=!0){return e=Object.entries(e).reduce(((e,[t,n])=>`${e}${he(t)}:${n};`),""),t?`style="${e}"`:e}(e,t)}inject(e){let t=Symbol("inject"+this._injectCount++);e.injected=t,this.injectTemplates.set(t,{cmp:null,node:e}),this.render();let{cmp:n}=this.injectTemplates.get(t);return{id:t,cmp:n}}eject(e){"object"==typeof e&&(e=e.id),this.injectTemplates.delete(e),this.render()}render(e){if(this._renderPause)return;this.beginSafeRender();let t=this.template(this.h);if(t)this.injectTemplates.forEach((e=>t.children.push(e.node)));else if(this.injectTemplates.size){let e=Array.from(this.injectTemplates.values());e.length&&(t=e[e.length-1].node)}this.endSafeRender();let n=t&&"object"==typeof t?t:x(t);this.app.emit("draw",n,this._prev,this),fe.emit(this,n,this._prev);const o=ue(this._cfgRoot,n,this._prev,0,this,e);!this._rootElement&&o&&(this._rootElement=o,Y(this._rootElement),this._parentElement=o.parentNode,this.__hasStyle&&(this._parentElement.dataset?this._parentElement.dataset.uid=this.uId:this._parentElement.firstElementChild.nextElementSibling.dataset.uid=this.uId)),this._prev=n}renderPause(){this._renderPause=!0}renderResume(e=!0){this._renderPause=!1,e&&this.render()}prepareCommit(){V.pause(this.props),this.renderPause()}commit(){this.renderResume(),V.resume(this.props)}get isRenderPause(){return this._renderPause}mount(e,t={}){if(this._unmounted)return!1===z.callBeforeMount(this)||(this._unmountedPlaceholder.parentNode.replaceChild(this._unmountedParentNode,this._unmountedPlaceholder),this._unmounted=!1,this._unmountedParentNode=null,this._unmountedPlaceholder=null,z.callMount(this),Object.keys(this.children).forEach((e=>{this.children[e].mount()}))),this;if(e){let n=this._rootElement;return"string"==typeof t.selector?n=n.querySelector(t.selector):t.selector instanceof HTMLElement?n=t.selector:1!==this._rootElement.nodeType&&(n=this.getHTMLElement()),this._unmounted=!1,this._unmountedParentNode=null,this._unmountedPlaceholder=null,this.app.mount(e,n,this)}}unmount(e=!1,t,n){if(this.lockRemoveInstanceByCallback&&"function"==typeof this.lockRemoveInstanceByCallback)this.lockRemoveInstanceByCallback(this.unmount,e,t,n);else if(e||!Boolean(this._unmountedParentNode)&&this._rootElement&&this._rootElement.parentNode&&this._rootElement.parentNode.parentNode)return!1!==z.callBeforeUnmount(this)&&(this._unmountedParentNode=this._rootElement.parentNode,this._unmountedPlaceholder=document.createComment(Date.now().toString()),e?this._rootElement.parentNode&&this._rootElement.parentNode.parentNode.removeChild(this._rootElement.parentNode):this._rootElement.parentNode.parentNode.replaceChild(this._unmountedPlaceholder,this._unmountedParentNode),this._unmounted=!t,n||z.callUnmount(this),Object.keys(this.children).forEach((o=>{this.children[o].unmount(e,t,n)})),this)}destroy(e){if(this.lockRemoveInstanceByCallback&&"function"==typeof this.lockRemoveInstanceByCallback)this.lockRemoveInstanceByCallback(this.destroy,e);else if(!1!==this.unmount(e,!0)&&(e||this._rootElement&&!1!==z.callBeforeDestroy(this))){if(Object.keys(this.children).forEach((e=>{this.children[e].destroy()})),z.callDestroy(this),this.parent&&this.parent.children){for(let e in this.parent.children)this.parent.children.hasOwnProperty(e)&&this===this.parent.children[e]&&delete this.parent.children[e];if(this.parent.childrenByTag[this.tag]){let e=this.parent.childrenByTag[this.tag].indexOf(this);-1!==e&&this.parent.childrenByTag[this.tag].splice(e,1)}}return!0}}template(){return""}_initRawProps(e){this._isSubclass?this._rawProps=Object.assign({},e.props):this._rawProps=Object.assign({},"function"==typeof e.cmp.cfg.props?e.cmp.cfg.props():e.cmp.cfg.props,e.props),this._initialProps=ye(this._rawProps)}getDozWebComponentById(e){return this.getWebComponentById(e)}getDozWebComponentByTag(e){return this.getWebComponentByTag(e)}getWebComponentById(e){return f.webComponents.ids[e]||null}getWebComponentByTag(e){return f.webComponents.tags[e]||null}_setProps(e){for(let t in e)e.hasOwnProperty(t)&&(this.props[t]=e[t])}setProps(e){this.prepareCommit(),this._setProps(e),this.commit()}setPropsAsync(e){H((()=>this._setProps(e)))}$$afterNodeElementCreate(e,t,n){if(e._dozAttach.hasDirective&&(P.callAppDOMElementCreate(this,e,t,n),P.callComponentDOMElementCreate(this,e,n)),"function"==typeof e.hasAttribute&&(-1!==t.type.indexOf("-")&&Me(this,e),t.type===c)){let t=e._dozAttach.props?e._dozAttach.props.name:null;t||(this._defaultSlot=e,t="__default__"),void 0===this._slots[t]?this._slots[t]=[e]:this._slots[t].push(e),this._hasSlots=!0}}$$beforeNodeChange(e,t,n,o){if("string"==typeof n&&"string"==typeof o&&t)return"SCRIPT"===e.nodeName?"text/style"===e.type&&e._dozAttach.styleData.id&&e._dozAttach.styleData.owner&&document.getElementById(e._dozAttach.styleData.id)&&(document.getElementById(e._dozAttach.styleData.id).textContent=re(n,e._dozAttach.styleData.ownerByData)):t.textContent=oe(n),t}$$afterNodeChange(e,t){Y(t),Y(e),t._dozAttach.componentRootInstance&&(e._dozAttach.componentRootInstance=t._dozAttach.componentRootInstance,e._dozAttach.componentRootInstance._rootElement=e,e._dozAttach.componentRootInstance._rootElement.parentNode.dataset.uid=t._dozAttach.componentRootInstance.uId)}$$beforeNodeWalk(e,t,n){if(e.childNodes[t]){Y(e.childNodes[t]);const o=e.childNodes[t]._dozAttach.componentDynamicInstance;if(o&&n.length)return n.forEach((e=>{Object.keys(e).forEach((t=>{o.props[t]=e[t]}))})),!0}return!1}$$afterAttributeUpdate(e,t,n){let o=w(t);if(this.updateChildrenProps&&e){t=o?t:M(t);const r=e.firstChild;Y(r),r&&r._dozAttach.componentRootInstance&&Object.prototype.hasOwnProperty.call(r._dozAttach.componentRootInstance._publicProps,t)?r._dozAttach.componentRootInstance.props[t]=n:e._dozAttach.componentInstance&&(e._dozAttach.componentInstance.props[t]=n)}P.callComponentDOMElementUpdate(this,e),e&&o&&e.removeAttribute(t)}}const ke=[];function Te(e,t){if(e.cmp){let n=e.cmp._childrenInc++;P.callAppComponentAssignIndex(t,n,(n=>{e.cmp.children[n]=t})),void 0===e.cmp.childrenByTag[t.tag]?e.cmp.childrenByTag[t.tag]=[t]:e.cmp.childrenByTag[t.tag].push(t)}}function Re(){ke.forEach((e=>e.remove()))}function Se(e=null,t,n){if(e._isRendered)return;e._isRendered=!0,e.render(!0);let o=e.getHTMLElement()._dozAttach.injected;if(o&&e.parent){let t=e.parent.injectTemplates.get(o);t&&(t.cmp=e),e.parent.injectTemplates.set(o,t)}if(e._rootElement._dozAttach.componentRootInstance=e,e.getHTMLElement()._dozAttach.componentInstance=e,e._defaultSlot&&e.getHTMLElement().firstElementChild){let t=document.createComment("slot");e.getHTMLElement().replaceChild(t,e.getHTMLElement().firstElementChild)}e._hasSlots&&n&&H((()=>n.render(!1,[],!0))),z.callMount(e),e.waitMount&&(e.appReadyExcluded||t.app._onAppComponentsMounted.delete(e))}function Oe(e,t={},n){Y(e);let o=function(e){return e._dozAttach.originalTagName||e.nodeName.toLowerCase()}(e);P.callAppComponentAssignName(t,e,(e=>{o=e}));let r={};t.cmp&&t.cmp._components&&(r=t.cmp._components);const p=n.autoCmp||r[o]||n.app._components[o]||C.getComponent(o);if(p){if(t.cmp&&t.cmp.mounted)return;const r=function(e){const t={};if(e._dozAttach.props){let n=Object.keys(e._dozAttach.props);for(let o=0;o<n.length;o++)U(e.nodeName,n[o],e._dozAttach.props[n[o]],t)}else if(e.attributes){const n=Array.from(e.attributes);for(let o=n.length-1;o>=0;--o){let r=n[o];U(e.nodeName,r.name,r.nodeValue,t)}}return t}(e),a={},i=t.cmp||n.parent;let s;if("function"==typeof p.cfg){if(!(p.cfg.prototype instanceof Be)){const e=p.cfg;p.cfg=class extends Be{},p.cfg.prototype.template=e}s=new p.cfg({tag:p.tag||o,root:e,app:n.app,props:r,componentDirectives:a,parentCmp:i})}else if(p.cfg.then){let l=null,c=null;e.parentElement&&e.parentElement._dozAttach&&e.parentElement._dozAttach.props&&(e.parentElement._dozAttach.props["d-async-loading"]&&(l=e.parentElement._dozAttach.props["d-async-loading"]),e.parentElement._dozAttach.props["d-async-error"]&&(c=e.parentElement._dozAttach.props["d-async-error"])),((e,l,c)=>{let d=null;if(l){let t={},o={};"object"==typeof l&&l.component&&(t=l.props||t,o=l.directives||o,l=l.component),s=new l({tag:l.tag||"loading-component",root:e,app:n.app,props:t,componentDirectives:o,parentCmp:i}),d=s}p.cfg.then((l=>{if("object"==typeof l){let e=Object.keys(l);l=l[e[e.length-1]]}if(l.tag){let t=document.createElement(l.tag);e.replaceWith(t),e=t}s=new l({tag:p.tag||o,root:e,app:n.app,props:r,componentDirectives:a,parentCmp:i}),ze(s),s.app.emit("componentPropsInit",s),d&&d.destroy(),Se(s,n,i),Te(t,s)})).catch((t=>{if(c){let t={},o={};"object"==typeof c&&c.component&&(t=c.props||t,o=c.directives||o,c=c.component),s=new c({tag:c.tag||"error-component",root:e,app:n.app,props:t,componentDirectives:o,parentCmp:i})}console.error(t)}))})(e,l,c)}else s=new Be({tag:p.tag||o,cmp:p,root:e,app:n.app,props:r,componentDirectives:a,parentCmp:i});if(s&&s.__beforeCreateReturnsFalse&&(s=void 0),!s)return;return s.rawChildrenObject=e._dozAttach.elementChildren,s.$domEl=e,"object"==typeof s.module&&function(e,t){if(!t||!t.hot)return;const n="__doz_hmr_props_store__",o="__doz_hmr_init_props_store__";window[n]=window[n]||{},window[o]=window[o]||{};const r=t.id;window[n][r]=window[n][r]||new Map,window[o][r]=window[o][r]||new Map,Object.keys(e.props).forEach((t=>{e._initialProps[t]===window[o][r].get(t)?e.props[t]=window[n][r].get(t)||e.props[t]:e.props[t]=e._initialProps[t]})),t.hot.dispose((()=>{Object.keys(e.props).forEach((t=>{window[n][r].set(t,e.props[t]),window[o][r].set(t,e._initialProps[t])}))}))}(s,s.module),ze(s),s.app.emit("componentPropsInit",s),s.waitMount?(s.appReadyExcluded||n.app._onAppComponentsMounted.set(s,!1),s.runMount=Se.bind(this,s,n,i),s.$domEl._canBeHydrated&&(s.$domEl._canBeHydrated=!1,s.hydrated=!0),z.callWaitMount(s)):!1!==z.callBeforeMount(s)?Se(s,n,i):s.runMount=Se.bind(this,s,n,i),Te(t,s),n.autoCmp=null,s}}function De(e={}){if(e.root&&(e.mountMainComponent||e.template instanceof HTMLElement||"string"==typeof e.template&&(e.template=r.create(e.template),e.root.appendChild(e.template))),e.mountMainComponent){let t=new e.component({cmp:e.component,root:e.root,app:e.app,props:e.props||{},componentDirectives:{},parentCmp:null});if(ze(t),t.app.emit("componentPropsInit",t),t._isRendered=!0,t._mainComponentByAppCreate=!0,t.render(!0),e.innerHTML){r.create(e.innerHTML,"div").childNodes.forEach((e=>{t.getHTMLElement().appendChild(e)}))}return Oe(t.getHTMLElement(),{cmp:t},e),Re(),z.callMount(t),t}{let t=Oe(e.template,{cmp:e.parent},e);return Re(),t}}function Le(e,t={}){if("function"!=typeof e)throw new TypeError("Plugin must be a function");e.options=t,_(e)}Le((function(e,t){function n(e,t){return e._propsPropagationIsArray&&-1===e.propsPropagation.indexOf(t)||"d"===(n=t)[0]&&(":"===n[1]||"-"===n[1]);var n}function o(e,t){let o=e._propsPropagationMainParent;t?t.forEach((t=>{n(o,t.currentPath)||(e.props[t.currentPath]=t.newValue)})):Object.keys(o.props).forEach((t=>{n(o,t)||(e.props[t]=o.props[t])}))}function r(e,t){e._propsPropagationChildren.forEach((e=>{o(e,t)}))}t.on("componentSetProps",(e=>{e.propsPropagation&&r(e)})),t.on("componentPropsInit",(e=>{var t;e.propsPropagation&&Object.defineProperties(e,{_propsPropagationIsArray:{value:Array.isArray(e.propsPropagation)},_propsPropagationIsMainParent:{value:!0},_propsPropagationMainParent:{value:e,writable:!0},_propsPropagationChildren:{value:[]}}),e.parent&&e.parent.propsPropagation&&(e.excludeFromPropsPropagation||void 0!==e.props["d:no-propagation"]?Object.defineProperty(e,"excludeFromPropsPropagation",{value:!0}):(e.propsPropagation=e.parent.propsPropagation,e._propsPropagationMainParent=e.parent._propsPropagationMainParent,(t=e)._propsPropagationMainParent._propsPropagationChildren.push(t),o(e)))})),t.on("componentUpdate",((e,t)=>{e._propsPropagationIsMainParent&&r(e,t)})),t.on("componentDestroy",(e=>{e._propsPropagationMainParent&&function(e){let t=e._propsPropagationMainParent._propsPropagationChildren;for(let n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)}(e)}))})),Le((function(e,t){t.on("componentPropsInit",(e=>{let t=window.DOZ_STORES;t&&e.uId&&t[e.uId]&&(e.props=t[e.uId])}))}));var je={use:Le,load:function(e){f.plugins.forEach((t=>{t(e.constructor,e,t.options)}))}};let Ne=0;class xe{constructor(t={}){if(this.baseTemplate=`<${i}></${i}>`,h.IS_ID_SELECTOR.test(t.root)&&(t.root=document.getElementById(t.root.substring(1))),h.IS_ID_SELECTOR.test(t.template)&&(t.template=document.getElementById(t.template.substring(1)),t.template=t.template.innerHTML),!(t.root instanceof HTMLElement||t.root instanceof ShadowRoot))throw new TypeError("root must be an HTMLElement or an valid ID selector like #example-root");if(!t.mainComponent&&!(t.template instanceof HTMLElement||"string"==typeof t.template||"function"==typeof t.template))throw new TypeError("template must be a string or an HTMLElement or a function or an valid ID selector like #example-template");this.cfg=Object.assign({},{appId:"",components:[],shared:{},useShadowRoot:!1,propsListener:null,propsListenerAsync:null,listeners:null,actions:{},autoDraw:!0,enableExternalTemplate:!1},t);let n=window.DOZ_APP_ID||this.cfg.appId||Math.random().toString(36).substring(2,15);if(window.dozApps=window.dozApps||{},window.dozApps[n]=this,Object.defineProperties(this,{createInstance:{value:De},hydIdCounter:{value:0,writable:!0},hydIdUsedCounter:{value:0,writable:!0},hydMap:{value:new Map,writable:!0},_lastUId:{value:0,writable:!0},_components:{value:{},writable:!0},componentsById:{value:{},writable:!0},_usedComponents:{value:{},writable:!0},_cache:{value:new Map},_onAppReadyCB:{value:[],writable:!0},_onAppComponentsMounted:{value:new Map,writable:!0},_callAppReady:{value:function(){this._onAppReadyCB.forEach((e=>{"function"==typeof e&&e._instance&&e.call(e._instance)})),this._onAppReadyCB=[]}},_onAppDrawCB:{value:[],writable:!0},_onAppCB:{value:{},writable:!0},hydration:{value:!1,writable:!0},isWebComponent:{value:this.cfg.isWebComponent},byAppCreate:{value:this.cfg.byAppCreate},useShadowRoot:{value:this.cfg.useShadowRoot,writable:!0,enumerable:!0},_root:{value:this.cfg.root},appId:{value:n,enumerable:!0},appIntId:{value:Ne++,enumerable:!0},action:{value:e(this.cfg.actions,this),enumerable:!0},onAppEmit:{value:this.cfg.onAppEmit,writable:!0,enumerable:!0},shared:{value:this.cfg.shared,writable:!0,enumerable:!0},setAllAttributes:{value:this.cfg.setAllAttributes,writable:!0,enumerable:!0},onVdomUpdateElement:{value:this.cfg.onVdomUpdateElement,writable:!0,enumerable:!0},cacheStores:{value:{kCache:new Map,hCache:new Map},enumerable:!0},getComponentsProps:{value:function(){let e={};for(let t in this.componentsById)this.componentsById[t].instance&&(e[t]=this.componentsById[t].instance.props);return e},enumerable:!0},mount:{value:function(e,t,n=this._tree){if("string"==typeof t&&(t=document.querySelector(t)),!((t=t||n._rootElement)instanceof HTMLElement))throw new TypeError("root must be an HTMLElement or an valid selector like #example-root");const o={tag:l,cfg:{props:{},template:t=>e}};return this.createInstance({root:t,template:`<${l}></${l}>`,app:this,parentCmp:n,autoCmp:o,mount:!0})},enumerable:!0}}),t.root.hasChildNodes){let e=t=>{if(t&&1===t.nodeType){this.hydMap.set(this.hydIdCounter++,t),t._canBeHydrated=!0;const n=t.children;for(let t=0;t<n.length;t++)e(n[t])}};e(t.root.firstElementChild),this.hydIdCounter&&(this.hydration=!0)}Array.isArray(this.cfg.components)?this.cfg.components.forEach((e=>{"object"==typeof e&&"string"==typeof e.tag&&"object"==typeof e.cfg&&(this._components[e.tag]=e)})):"object"==typeof this.cfg.components&&Object.keys(this.cfg.components).forEach((e=>{this._components[e]={tag:e,cfg:this.cfg.components[e]}})),je.load(this),P.callAppInit(this),this.cfg.mainComponent?this._tree=this.createInstance({mountMainComponent:!0,root:this.cfg.root,component:this.cfg.mainComponent,app:this,innerHTML:this.cfg.innerHTML}):(this._components[i]={tag:i,cfg:{template:"function"==typeof t.template?t.template:function(){return t.template}}},Object.keys(t).forEach((e=>{["template","root"].includes(e)||(this._components[i].cfg[e]=t[e])}))),this.cfg.listeners&&Object.keys(this.cfg.listeners).forEach((e=>{this.on(e,this.cfg.listeners[e])})),!this.cfg.mainComponent&&this.cfg.autoDraw&&this.draw(),this.canAppReady()}canAppReady(){this._onAppComponentsMounted.size?setTimeout((()=>{this.canAppReady()})):(this._callAppReady(),this.emit("ready",this))}draw(){return this.cfg.autoDraw||(this.cfg.root.innerHTML=""),this._tree=this.createInstance({root:this.cfg.root,template:this.baseTemplate,app:this}),this}get mainComponent(){return this._tree}on(e,t){if("string"!=typeof e)throw new TypeError("Event must be a string");if("function"!=typeof t)throw new TypeError("Callback must be a function");return this._onAppCB[e]||(this._onAppCB[e]=[]),this._onAppCB[e].push(t),this}emit(e,...t){return this._onAppCB[e]&&this._onAppCB[e].forEach((e=>{e.apply(this,t)})),this.onAppEmit&&this.onAppEmit(e,...t),this}generateUId(){return this.appId+"-"+ ++this._lastUId}}function Ue(e,t={}){if("string"!=typeof e)throw new TypeError("Tag must be a string");if(!h.IS_CUSTOM_TAG.test(e))throw new TypeError("Tag must contain a dash (-) like my-component");y({tag:e,cfg:t})}function $e(e){Ee(Be.prototype,e)}function He(e,t,n){let o=Object.assign({root:e,mainComponent:t,byAppCreate:!0},n);return new xe(o)}var We=function(e){return function(t){t.tag=e}};function Ve(e,t,n=[],o="dwc",r,p=[],a=[]){f.webComponents.tags[e]=f.webComponents.tags[e]||{},o&&(o+="-"),customElements.define(o+e,class extends HTMLElement{static get observedAttributes(){return n}constructor(){super()}connectedCallback(){let o={},i=null,s="",l=this.hasAttribute("data-no-shadow"),c=l?this:this.attachShadow({mode:"open"}),d=this;for(let e,t=0,r=this.attributes,p=r.length;t<p;t++)e=r[t],"data-id"!==e.nodeName?n.includes(e.nodeName)&&(o[M(e.nodeName)]=e.nodeValue):i=e.nodeValue;let u=function(){let t=this.app.byAppCreate?this:this.children[0];p.forEach((e=>{t[e]&&(d[e]=t[e].bind(t))})),d.removeAttribute("data-soft-entrance"),t.props=Object.assign({},t.props,o);let n=Object.keys(f.webComponents.tags[e]).length++;if(f.webComponents.tags[e][i||n]=t,null!==i){if(f.webComponents.ids[i])return console.warn(i+": id already exists for DozWebComponent");f.webComponents.ids[i]=t}},h=function(e,...t){if(a.indexOf(e)>-1){let n=new CustomEvent(e,{detail:t});d.dispatchEvent(n)}};s=this.innerHTML.trim(),this.innerHTML="";let m=t||r||e;t&&"object"!=typeof t?(t.__postListeners={onAppReady:u},this.dozApp=He(c,t,{isWebComponent:!0,useShadowRoot:!l,innerHTML:s,onAppEmit:h})):this.dozApp=new xe({root:c,isWebComponent:!0,useShadowRoot:!l,template:e=>e`
                            <${m}>${s}</${m}>
                        `,onAppReady:u,onAppEmit:h})}attributeChangedCallback(e,t,n){if(!this.dozApp)return;(this.dozApp.byAppCreate?this.dozApp.mainComponent:this.dozApp.mainComponent.children[0]).props[M(e)]=n}})}function Fe(e,t,n=[],o=[],r=[]){Ve(e,t,n,"",null,o,r)}function qe(e,t,n=[],o=[],r=[]){Ve(e,null,n,"",t,o,r)}!function(){if(!document.getElementById("style--soft-entrance--")){const e=document.createElement("style");e.id="style--soft-entrance--",e.innerHTML="[data-soft-entrance] {visibility: hidden!important;}",document.head.appendChild(e)}}();const{directive:Ke}=P;const{directive:Ge}=P;const{directive:Ye}=P;const{directive:Qe}=P;const{directive:Ze}=P;Ze(":onbeforemount",{onComponentBeforeMount:(e,t)=>"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]?e.parent[t].call(e.parent,e):void 0}),Ze(":onmount",{onComponentMount(e,t){"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]&&e.parent[t].call(e.parent,e)}}),Ze(":onafterrender",{onComponentAfterRender:(e,t,n)=>"function"==typeof n?n(e,t):e.parent&&"function"==typeof e.parent[n]?e.parent[n].call(e.parent,e,t):void 0}),Ze(":onbeforeupdate",{onComponentBeforeUpdate:(e,t,n)=>"function"==typeof n?n(e,t):e.parent&&"function"==typeof e.parent[n]?e.parent[n].call(e.parent,e,t):void 0}),Ze(":onupdate",{onComponentUpdate(e,t,n){"function"==typeof n?n(e,t):e.parent&&"function"==typeof e.parent[n]&&e.parent[n].call(e.parent,e,t)}}),Ze(":onbeforeunmount",{onComponentBeforeUnmount:(e,t)=>"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]?e.parent[t].call(e.parent,e):void 0}),Ze(":onunmount",{onComponentUnmount(e,t){"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]&&e.parent[t].call(e.parent,e)}}),Ze(":onbeforedestroy",{onComponentBeforeDestroy:(e,t)=>"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]?e.parent[t].call(e.parent,e):void 0}),Ze(":ondestroy",{onComponentDestroy(e,t){"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]&&e.parent[t].call(e.parent,e)}}),Ze(":onloadprops",{onComponentLoadProps(e,t){"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]&&e.parent[t].call(e.parent,e)}});const{directive:Xe}=P;const{directive:Je}=P;const{directive:et}=P;function tt(e,t){e&&new Promise(e).then((()=>tt(t.shift(),t)))}const{directive:nt}=P;var ot=function(){nt("show",{onAppComponentCreate(e){},setVisible(e,t){const n=e._dozAttach.__animationDirectiveValue;e._dozAttach.__showOriginDisplay=function(e){if(!e._dozAttach.props||!e._dozAttach.props.style)return null;let t=e._dozAttach.props.style.match(h.EXTRACT_STYLE_DISPLAY_PROPERTY);return t?t[1]:null}(e)||"";let o=!1;void 0===e._dozAttach.__showInitialValue&&(e._dozAttach.__showInitialValue=t,o=!t),e._dozAttach.__prevValueOfShow!==t&&(e._dozAttach.__prevValueOfShow=t,n&&!o?(e._dozAttach.__animationsList||(e._dozAttach.__animationsList=[]),e._dozAttach.__animationUsedByShowDirective=!0,e._dozAttach.__animationsList.push((n=>{t?(e.style.display=e._dozAttach.__showOriginDisplay,e._dozAttach.__animationShow((()=>{e.style.display=e._dozAttach.__showOriginDisplay,e._dozAttach.__animationUsedByShowDirective=!1,n()}))):e._dozAttach.__animationHide((()=>{e.style.display="none",e._dozAttach.__animationUsedByShowDirective=!1,n()}))})),n.queue?e._dozAttach.__animationIsRunning||tt(e._dozAttach.__animationsList.shift(),e._dozAttach.__animationsList):new Promise(e._dozAttach.__animationsList.shift()).then()):e.style.display=t?e._dozAttach.__showOriginDisplay:"none")},onComponentDOMElementCreate(e,t,n){this.setVisible(t,n)},onComponentDOMElementUpdate(e,t,n){this.setVisible(t,n)}})};function rt(e,t,n=1e3,o){let r,p=0,a=function(){window.cancelAnimationFrame(r),r=null},i=function(){if(p>=n)return console.warn("wait, max cycles exceeded "+n),void("function"==typeof o&&o());e(a)?(r&&a(),t()):(p++,r=window.requestAnimationFrame(i))};r=window.requestAnimationFrame(i)}function pt(e,t,n,o){if("function"==typeof n?(o=n,n={}):n||(n={}),"hide"===n.mode&&"none"===e.style.display)return;e._dozAttach.__animationIsRunning&&(e.classList.remove(e._dozAttach.__lastAnimationName),e._dozAttach.__animationIsRunning=!1,e._dozAttach.__lockedForAnimation=!1,e.removeEventListener("animationend",e._dozAttach.__handleAnimationEnd)),e._dozAttach.__animationIsRunning=!0;let r=window.getComputedStyle(e);function p(){e.classList.remove(n.classLib),e.classList.remove(t),e._dozAttach.__animationIsRunning=!1,e._dozAttach.__lockedForAnimation=!1,e.style.animationDelay="",e.style.webkitAnimationDelay="",e.style.mozAnimationDelay="",e.style.animationDuration="",e.style.webkitAnimationDuration="",e.style.mozAnimationDuration="",e.style.animationIterationCount="",e.style.webkitAnimationIterationCount="",e.style.mozAnimationIterationCount="",e.removeEventListener("animationend",p),"function"==typeof o&&o(),"function"==typeof n.cb&&n.cb()}n.classLib=n.classLib||"animated",e.classList.add(n.classLib),e.classList.add(t),e._dozAttach.__lastAnimationName=t,e._dozAttach.__animationOriginDisplay=r.display,"inline"===e._dozAttach.__animationOriginDisplay&&(e.style.display="inline-block"),n.delay&&(e.style.animationDelay=n.delay,e.style.webkitAnimationDelay=n.delay,e.style.mozAnimationDelay=n.delay),n.duration&&(e.style.animationDuration=n.duration,e.style.webkitAnimationDuration=n.duration,e.style.mozAnimationDuration=n.duration),n.iterationCount&&(e.style.animationIterationCount=n.iterationCount,e.style.webkitAnimationIterationCount=n.iterationCount,e.style.mozAnimationIterationCount=n.iterationCount),e.addEventListener("animationend",p),e._dozAttach.__handleAnimationEnd=p,e._dozAttach.__animationReset=()=>p()}window.requestAnimationFrame=window.requestAnimationFrame||window.setTimeout,window.cancelAnimationFrame=window.cancelAnimationFrame||window.clearTimeout;const{directive:at}=P;const{directive:it}=P;var st=function(){it("lazy",{onAppInit(e){e.lazyComponentsList=new Set,window.addEventListener("scroll",(()=>{e.lazyComponentsList.forEach((t=>{this.canRunMount(e,t)}))}))},onComponentCreate(e){e.waitMount=!0,e.appReadyExcluded=!0,e.app.lazyComponentsList.add(e)},onComponentWaitMount(e){this.canRunMount(e.app,e)},canRunMount(e,t){(function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(t.$domEl)&&(t.runMount(),e.lazyComponentsList.delete(t))}})};const{directive:lt}=P;Ke(":store",{createStore(e,t){if("string"==typeof t){if(void 0!==e.app._stores[t])throw new Error(`Store already defined: ${t}`);e.app._stores[t]=e.props,e.store=t}},syncStore(e,t){"string"==typeof t&&void 0!==e.app._stores[t]&&(e.app._stores[t]=e.props)},onAppInit(e){e._stores={},e.getStore=function(t){return e._stores[t]}},onAppComponentCreate(e){e.getStore=e.app.getStore,void 0!==e.store&&void 0===e.props["d:store"]&&this.createStore(e,e.store)},onComponentCreate(e,t){this.createStore(e,t)},onAppComponentLoadProps(e){this.syncStore(e,e.store)},onAppComponentSetProps(e){this.syncStore(e,e.store)},onAppComponentSetConfig(e,t){"string"==typeof t.store&&this.createStore(e,t.store)},onAppComponentDestroy(e){e.store&&e.app._stores[e.store]&&delete e.app._stores[e.store]}}),Ge(":id",{createId(e,t){"string"==typeof t&&(e.app._ids[t]=e,e.id=t)},onAppInit(e){e._ids={},e.getComponentById=function(t){return e._ids[t]}},onAppComponentCreate(e){e.getComponentById=function(t){return e.app._ids[t]},e.getCmp=e.getComponentById,void 0!==e.id&&void 0===e.props["d:id"]&&this.createId(e,e.id)},onComponentCreate(e,t){this.createId(e,t)},onAppComponentSetConfig(e,t){"string"==typeof t.id&&this.createId(e,t.id)},onAppComponentDestroy(e){e.id&&e.app._ids[e.id]&&delete e.app._ids[e.id]}}),Ye(":alias",{createAlias(e,t){"string"==typeof t&&(e.alias=t)},onAppInit(e){e.getComponent=function(e){return this._tree?this._tree.children[e]:void 0}},onAppComponentCreate(e){e.getComponent=function(e){return this.children?this.children[e]:void 0}},onComponentCreate(e,t){this.createAlias(e,t)},onAppComponentSetConfig(e,t){"string"==typeof t.alias&&this.createAlias(e,t.alias)},onAppComponentAssignIndex:(e,t)=>e.alias?e.alias:t}),Qe(":on-$event",{onAppComponentCreate(e){e._callback={},e.emit=function(t,...n){e._callback&&("function"==typeof e._callback[t]?e._callback[t].apply(e.parent,n):void 0!==e._callback[t]&&void 0!==e.parent[e._callback[t]]&&"function"==typeof e.parent[e._callback[t]]&&e.parent[e._callback[t]].apply(e.parent,n))}},onComponentCreate(e,t,n){let o={};o[n.event]=t,Object.assign(e._callback,o)}}),Ze(":onbeforecreate",{onComponentBeforeCreate:(e,t)=>"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]?e.parent[t].call(e.parent,e):void 0}),Ze(":oncreate",{onComponentCreate(e,t){"function"==typeof t?t(e):e.parent&&"function"==typeof e.parent[t]&&e.parent[t].call(e.parent,e)}}),Xe("ref",{onAppComponentCreate(e){e.ref={}},onComponentDOMElementCreate(e,t,n){e.ref[n]=t}}),Je("is",{hasDataIs:e=>e._dozAttach.props&&e._dozAttach.props["d-is"],onAppComponentAssignName(e,t){if(this.hasDataIs(t))return t._dozAttach.props["d-is"]},onAppComponentPropsAssignName(e,t,n){if(this.hasDataIs(e))return M(t)},onComponentDOMElementCreate(e,t,n,o){t.dataset.is=n,Me(e,t)}}),et("bind",{onAppComponentCreate(e){e._boundElements={}},onAppComponentUpdate(e,t){Object.keys(e._boundElements).length&&this.updateBoundElementsByChanges(e,t)},onAppComponentLoadProps(e){this.updateBoundElementsByPropsIteration(e)},onComponentDOMElementCreate(e,t,n,o){this.canBind(t)&&this.setBind(e,t,n)},canBind:e=>-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.nodeName),setBind(e,t,n){void 0!==e.props[n]&&(["compositionstart","compositionend","input","change"].forEach((function(o){t.addEventListener(o,(function(t){let o;"checkbox"===this.type?this.defaultValue?(o=[...e.appRoot.querySelectorAll(`input[name=${this.name}][type=checkbox]:checked`)].map((e=>e.value)),e.props[n]=o):e.props[n]=this.checked:(o=this.value,this.multiple&&(o=[...this.options].filter((e=>e.selected)).map((e=>e.value))),e.props[n]=o)}))})),void 0!==e._boundElements[n]?e._boundElements[n].push(t):e._boundElements[n]=[t],H((()=>{this.updateBoundElement(t,e.props[n],e)})))},updateBoundElementsByChanges(e,t){t.forEach((t=>{let n=t.newValue,o=t.property;this.updateBoundElements(e,n,o)}))},updateBoundElementsByPropsIteration(e){let t=this;!function n(o){let r=Object.keys(o);for(let p=0,a=r.length;p<a;p++){let a=r[p];o[a]instanceof Object&&null!==o[a]?n(o[a]):t.updateBoundElements(e,o[a],a)}}(e._rawProps)},updateBoundElements(e,t,n){Object.prototype.hasOwnProperty.call(e._boundElements,n)&&e._boundElements[n].forEach((n=>{this.updateBoundElement(n,t,e)}))},updateBoundElement(e,t,n){"checkbox"===e.type?e.defaultValue?Array.isArray(t)&&[...n.appRoot.querySelectorAll(`input[name=${e.name}][type=checkbox]`)].forEach((e=>e.checked=t.includes(e.value))):e.checked=t:"radio"===e.type?e.checked=e.value===t:"select-multiple"===e.type&&Array.isArray(t)?[...e.options].forEach((e=>e.selected=t.includes(e.value))):e.value=t}}),ot(),at("animate",{onAppComponentCreate(e){e.animate=pt,e.elementsWithAnimation=new Map},createLockRemoveInstanceByCallback(e){e.lockRemoveInstanceByCallback=(t,...n)=>{if(e.lockRemoveInstanceByCallbackIsCalled)return;e.lockRemoveInstanceByCallbackIsCalled=!0;let o=[];for(let[t,n]of e.elementsWithAnimation){let r=t,p=n;o.push(new Promise((t=>{if(!document.body.contains(r))return t();rt((e=>r._dozAttach.__animationUsedByShowDirective?(e(),!0):!r._dozAttach.__animationIsRunning),(()=>{let n={duration:p.hide.duration,delay:p.hide.delay,iterationCount:p.hide.iterationCount,cb:p.hide.cb,classLib:p.classLib};e.animate(r,p.hide.name,n,(()=>{r.style.display="none",t()}))}),1e3,(()=>{r._dozAttach.__animationReset()}))})))}Promise.all(o).then((()=>{e.lockRemoveInstanceByCallback=null,e.lockRemoveInstanceByCallbackIsCalled=!1,t.apply(e,n)}),(e=>{throw new Error(e)}))}},createAnimations(e,t,n){if(!t._dozAttach.__lockedForAnimation){if(t._dozAttach.__lockedForAnimation=!0,"string"==typeof n&&(n={show:n,hide:n}),t._dozAttach.__animationDirectiveValue=n,n.show){"object"!=typeof n.show&&(n.show={name:n.show});let o={duration:n.show.duration,delay:n.show.delay,iterationCount:n.show.iterationCount,cb:n.show.cb,classLib:n.classLib,mode:"show"};t._dozAttach.__animationShow=r=>e.animate(t,n.show.name,o,r),rt((e=>t._dozAttach.__animationUsedByShowDirective?(e(),!0):!t._dozAttach.__animationIsRunning),(()=>{document.body.contains(t)&&(t._dozAttach.__animationOriginDisplay&&(t.style.display=t._dozAttach.__animationOriginDisplay),"none"!==t.style.display&&e.animate(t,n.show.name,o))}),1e3,(()=>{t._dozAttach.__animationReset()}))}if(n.hide){"object"!=typeof n.hide&&(n.hide={name:n.hide});let o={duration:n.hide.duration,delay:n.hide.delay,iterationCount:n.hide.iterationCount,cb:n.hide.cb,classLib:n.classLib,mode:"hide"};t._dozAttach.__animationHide=r=>e.animate(t,n.hide.name,o,r),this.createLockRemoveInstanceByCallback(e)}e.elementsWithAnimation.set(t,n),setTimeout((()=>{Object.keys(e.children).forEach((t=>{const n=e.children[t],o=n.getHTMLElement(),r=e.elementsWithAnimation.get(o);r&&(n.lockRemoveInstanceByCallback||(n.elementsWithAnimation.set(o,r),this.createLockRemoveInstanceByCallback(n)))}))}))}},onComponentDOMElementCreate(e,t,n){this.createAnimations(e,t,n)},onAppComponentMount(e){if(e.elementsWithAnimation&&e.elementsWithAnimation.size)for(let[t,n]of e.elementsWithAnimation)this.createAnimations(e,t,n)}}),st(),Object.defineProperties(xe,{collection:{value:C,enumerable:!0},compile:{value:x,enumerable:!0},Component:{value:Be,enumerable:!0},component:{value:Ue,enumerable:!0},define:{value:Ue,enumerable:!0},h:{value:we,enumerable:!0},update:{value:de,enumerable:!0},mixin:{value:$e,enumerable:!0},use:{value:Le,enumerable:!0},directive:{value:lt,enumerable:!0},version:{value:"5.2.2",enumerable:!0},tag:{value:We,enumerable:!0},createDozWebComponent:{value:Ve,enumerable:!0},defineWebComponent:{value:Fe,enumerable:!0},defineWebComponentFromGlobal:{value:qe,enumerable:!0},appCreate:{value:He,enumerable:!0},createInstance:{value:De,enumerable:!0}});const ct=xe.version;export{Be as Component,He as appCreate,C as collection,x as compile,Ue as component,Ve as createDozWebComponent,De as createInstance,xe as default,Ue as define,Fe as defineWebComponent,qe as defineWebComponentFromGlobal,lt as directive,we as h,$e as mixin,We as tag,de as update,Le as use,ct as version};
