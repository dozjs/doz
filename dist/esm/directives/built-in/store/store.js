import index from"../../index.js";const{directive:directive}=index;directive(":store",{createStore(e,t){if("string"==typeof t){if(void 0!==e.app._stores[t])throw new Error(`Store already defined: ${t}`);e.app._stores[t]=e.props,e.store=t}},syncStore(e,t){"string"==typeof t&&void 0!==e.app._stores[t]&&(e.app._stores[t]=e.props)},onAppInit(e){Object.defineProperties(e,{_stores:{value:{},writable:!0},getStore:{value:function(t){return e._stores[t]},enumerable:!0}})},onAppComponentCreate(e){Object.defineProperties(e,{getStore:{value:function(t){return e.app._stores[t]},enumerable:!0}}),void 0!==e.store&&void 0===e.props["d:store"]&&this.createStore(e,e.store)},onComponentCreate(e,t){this.createStore(e,t)},onAppComponentLoadProps(e){this.syncStore(e,e.store)},onAppComponentSetProps(e){this.syncStore(e,e.store)},onAppComponentSetConfig(e,t){"string"==typeof t.store&&this.createStore(e,t.store)},onAppComponentDestroy(e){e.store&&e.app._stores[e.store]&&delete e.app._stores[e.store]}});