import{COMPONENT_DYNAMIC_INSTANCE,PROPS_ATTRIBUTES}from"../../constants.js";import directive from"../../directives/index.js";import createInstance from"../create-instance.js";function drawDynamic(e){let t=e._processing.length-1;for(;t>=0;){let n=e._processing[t],r=n.node.parentNode;const a=createInstance({root:r,template:n.node,app:e.app,parent:e});if(a){n.node.childNodes.length&&n.node.appendChild(a._rootElement),a._rootElement.parentNode._dozAttach[COMPONENT_DYNAMIC_INSTANCE]=a,e._processing.splice(t,1);let r=Object.keys(e.children).length;e.children[r++]=a,void 0===e.childrenByTag[a.tag]?e.childrenByTag[a.tag]=[a]:e.childrenByTag[a.tag].push(a),directive.callAppDynamicInstanceCreate(e,a,n)}t-=1}}export default drawDynamic;