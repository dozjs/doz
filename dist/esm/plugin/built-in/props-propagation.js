export default function(o,r){function p(o,r){let p=o._propsPropagationMainParent;r?r.forEach((r=>{"update"!==r.type||p._propsPropagationIsArray&&-1===p.propsPropagation.indexOf(r.currentPath)||(o.props[r.currentPath]=r.newValue)})):Object.keys(p.props).forEach((r=>{p._propsPropagationIsArray&&-1===p.propsPropagation.indexOf(r)||(o.props[r]=p.props[r])}))}r.on("componentPropsInit",(o=>{var r;o.propsPropagation&&Object.defineProperties(o,{_propsPropagationIsArray:{value:Array.isArray(o.propsPropagation)},_propsPropagationIsMainParent:{value:!0},_propsPropagationMainParent:{value:o},_propsPropagationChildren:{value:[]}}),o.parent&&o.parent.propsPropagation&&(o.propsPropagation=o.parent.propsPropagation,o._propsPropagationMainParent=o.parent._propsPropagationMainParent,o.excludeFromPropsPropagation?Object.defineProperty(o,"excludeFromPropsPropagation",{value:!0}):((r=o)._propsPropagationMainParent._propsPropagationChildren.push(r),p(o)))})),r.on("componentUpdate",((o,r)=>{o._propsPropagationIsMainParent&&function(o,r){o._propsPropagationChildren.forEach((o=>{p(o,r)}))}(o,r)})),r.on("componentDestroy",(o=>{o._propsPropagationMainParent&&function(o){let r=o._propsPropagationMainParent._propsPropagationChildren;for(let p=r.length-1;p>=0;p--)r[p]===o&&r.splice(p,1)}(o)}))}