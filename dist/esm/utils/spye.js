class Spye{constructor(t,e={}){this.opts=Object.assign({},{autoWatch:!0,unwatchAfterCreate:!1,unwatchAfterRemove:!1},e),this.element=t,this._checkCount=0,this._created=null,this._onCreate=()=>{},this._onRemove=()=>{},this.opts.autoWatch&&this.watch()}check(){++this._checkCount;let t=document.body.contains(this.element);return t&&!this._created&&(this._created=!0,this._onCreate.call(null,this.element,this),this.opts.unwatchAfterCreate&&this.unwatch()),!t&&this._created&&(this._created=!1,this._onRemove.call(null,this),this.opts.unwatchAfterRemove&&this.unwatch()),this}watch(){return this._tick=requestAnimationFrame((()=>{this.check()})),this}unwatch(){return cancelAnimationFrame(this._tick),this._tick=null,this}onCreate(t){return this._onCreate=t,this}onRemove(t){return this._onRemove=t,this}}export default Spye;